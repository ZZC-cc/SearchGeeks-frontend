{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { onBeforeUnmount, shallowRef, watch, onMounted } from 'vue';\nimport raf from '../../_util/raf';\nvar StatusQueue = ['measure', 'align', null, 'motion'];\nexport default (function (visible, doMeasure) {\n  var status = shallowRef(null);\n  var rafRef = shallowRef();\n  var destroyRef = shallowRef(false);\n  function setStatus(nextStatus) {\n    if (!destroyRef.value) {\n      status.value = nextStatus;\n    }\n  }\n  function cancelRaf() {\n    raf.cancel(rafRef.value);\n  }\n  function goNextStatus(callback) {\n    cancelRaf();\n    rafRef.value = raf(function () {\n      // Only align should be manually trigger\n      var newStatus = status.value;\n      switch (status.value) {\n        case 'align':\n          newStatus = 'motion';\n          break;\n        case 'motion':\n          newStatus = 'stable';\n          break;\n        default:\n      }\n      setStatus(newStatus);\n      callback === null || callback === void 0 ? void 0 : callback();\n    });\n  }\n  watch(visible, function () {\n    setStatus('measure');\n  }, {\n    immediate: true,\n    flush: 'post'\n  });\n  onMounted(function () {\n    // Go next status\n    watch(status, function () {\n      switch (status.value) {\n        case 'measure':\n          doMeasure();\n          break;\n        default:\n      }\n      if (status.value) {\n        rafRef.value = raf(function () {\n          return __awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n            var index, nextStatus;\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) switch (_context.prev = _context.next) {\n                case 0:\n                  index = StatusQueue.indexOf(status.value);\n                  nextStatus = StatusQueue[index + 1];\n                  if (nextStatus && index !== -1) {\n                    setStatus(nextStatus);\n                  }\n                case 3:\n                case \"end\":\n                  return _context.stop();\n              }\n            }, _callee);\n          }));\n        });\n      }\n    }, {\n      immediate: true,\n      flush: 'post'\n    });\n  });\n  onBeforeUnmount(function () {\n    destroyRef.value = true;\n    cancelRaf();\n  });\n  return [status, goNextStatus];\n});","map":{"version":3,"names":["_regeneratorRuntime","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","onBeforeUnmount","shallowRef","watch","onMounted","raf","StatusQueue","visible","doMeasure","status","rafRef","destroyRef","setStatus","nextStatus","cancelRaf","cancel","goNextStatus","callback","newStatus","immediate","flush","mark","_callee","index","wrap","_callee$","_context","prev","indexOf","stop"],"sources":["D:/Desktop/Code/SearchGeeks/SearchGeeks-frontend/node_modules/ant-design-vue/es/vc-trigger/Popup/useVisibleStatus.js"],"sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { onBeforeUnmount, shallowRef, watch, onMounted } from 'vue';\nimport raf from '../../_util/raf';\nvar StatusQueue = ['measure', 'align', null, 'motion'];\nexport default (function (visible, doMeasure) {\n  var status = shallowRef(null);\n  var rafRef = shallowRef();\n  var destroyRef = shallowRef(false);\n  function setStatus(nextStatus) {\n    if (!destroyRef.value) {\n      status.value = nextStatus;\n    }\n  }\n  function cancelRaf() {\n    raf.cancel(rafRef.value);\n  }\n  function goNextStatus(callback) {\n    cancelRaf();\n    rafRef.value = raf(function () {\n      // Only align should be manually trigger\n      var newStatus = status.value;\n      switch (status.value) {\n        case 'align':\n          newStatus = 'motion';\n          break;\n        case 'motion':\n          newStatus = 'stable';\n          break;\n        default:\n      }\n      setStatus(newStatus);\n      callback === null || callback === void 0 ? void 0 : callback();\n    });\n  }\n  watch(visible, function () {\n    setStatus('measure');\n  }, {\n    immediate: true,\n    flush: 'post'\n  });\n  onMounted(function () {\n    // Go next status\n    watch(status, function () {\n      switch (status.value) {\n        case 'measure':\n          doMeasure();\n          break;\n        default:\n      }\n      if (status.value) {\n        rafRef.value = raf(function () {\n          return __awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n            var index, nextStatus;\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) switch (_context.prev = _context.next) {\n                case 0:\n                  index = StatusQueue.indexOf(status.value);\n                  nextStatus = StatusQueue[index + 1];\n                  if (nextStatus && index !== -1) {\n                    setStatus(nextStatus);\n                  }\n                case 3:\n                case \"end\":\n                  return _context.stop();\n              }\n            }, _callee);\n          }));\n        });\n      }\n    }, {\n      immediate: true,\n      flush: 'post'\n    });\n  });\n  onBeforeUnmount(function () {\n    destroyRef.value = true;\n    cancelRaf();\n  });\n  return [status, goNextStatus];\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}