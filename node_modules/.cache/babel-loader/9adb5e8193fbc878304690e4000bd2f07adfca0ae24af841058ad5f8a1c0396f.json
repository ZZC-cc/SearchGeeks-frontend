{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { useRafState } from '../hooks/useRaf';\nimport TabNode from './TabNode';\nimport useOffsets from '../hooks/useOffsets';\nimport OperationNode from './OperationNode';\nimport { useInjectTabs } from '../TabContext';\nimport useTouchMove from '../hooks/useTouchMove';\nimport AddButton from './AddButton';\nimport { objectType, functionType } from '../../../_util/type';\nimport { shallowRef, onBeforeUnmount, defineComponent, watch, watchEffect, computed } from 'vue';\nimport PropTypes from '../../../_util/vue-types';\nimport useSyncState from '../hooks/useSyncState';\nimport useState from '../../../_util/hooks/useState';\nimport raf from '../../../_util/raf';\nimport classNames from '../../../_util/classNames';\nimport ResizeObserver from '../../../vc-resize-observer';\nimport { toPx } from '../../../_util/util';\nimport useRefs from '../../../_util/hooks/useRefs';\nimport pick from 'lodash-es/pick';\nvar DEFAULT_SIZE = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0,\n  right: 0\n};\nexport var tabNavListProps = function tabNavListProps() {\n  return {\n    id: {\n      type: String\n    },\n    tabPosition: {\n      type: String\n    },\n    activeKey: {\n      type: [String, Number]\n    },\n    rtl: {\n      type: Boolean\n    },\n    animated: objectType(),\n    editable: objectType(),\n    moreIcon: PropTypes.any,\n    moreTransitionName: {\n      type: String\n    },\n    mobile: {\n      type: Boolean\n    },\n    tabBarGutter: {\n      type: Number\n    },\n    renderTabBar: {\n      type: Function\n    },\n    locale: objectType(),\n    popupClassName: String,\n    getPopupContainer: functionType(),\n    onTabClick: {\n      type: Function\n    },\n    onTabScroll: {\n      type: Function\n    }\n  };\n};\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'TabNavList',\n  inheritAttrs: false,\n  props: tabNavListProps(),\n  slots: ['moreIcon', 'leftExtra', 'rightExtra', 'tabBarExtraContent'],\n  emits: ['tabClick', 'tabScroll'],\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n      slots = _ref.slots;\n    var _useInjectTabs = useInjectTabs(),\n      tabs = _useInjectTabs.tabs,\n      prefixCls = _useInjectTabs.prefixCls;\n    var tabsWrapperRef = shallowRef();\n    var tabListRef = shallowRef();\n    var operationsRef = shallowRef();\n    var innerAddButtonRef = shallowRef();\n    var _useRefs = useRefs(),\n      _useRefs2 = _slicedToArray(_useRefs, 2),\n      setRef = _useRefs2[0],\n      btnRefs = _useRefs2[1];\n    var tabPositionTopOrBottom = computed(function () {\n      return props.tabPosition === 'top' || props.tabPosition === 'bottom';\n    });\n    var _useSyncState = useSyncState(0, function (next, prev) {\n        if (tabPositionTopOrBottom.value && props.onTabScroll) {\n          props.onTabScroll({\n            direction: next > prev ? 'left' : 'right'\n          });\n        }\n      }),\n      _useSyncState2 = _slicedToArray(_useSyncState, 2),\n      transformLeft = _useSyncState2[0],\n      setTransformLeft = _useSyncState2[1];\n    var _useSyncState3 = useSyncState(0, function (next, prev) {\n        if (!tabPositionTopOrBottom.value && props.onTabScroll) {\n          props.onTabScroll({\n            direction: next > prev ? 'top' : 'bottom'\n          });\n        }\n      }),\n      _useSyncState4 = _slicedToArray(_useSyncState3, 2),\n      transformTop = _useSyncState4[0],\n      setTransformTop = _useSyncState4[1];\n    var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      wrapperScrollWidth = _useState2[0],\n      setWrapperScrollWidth = _useState2[1];\n    var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      wrapperScrollHeight = _useState4[0],\n      setWrapperScrollHeight = _useState4[1];\n    var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      wrapperWidth = _useState6[0],\n      setWrapperWidth = _useState6[1];\n    var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      wrapperHeight = _useState8[0],\n      setWrapperHeight = _useState8[1];\n    var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      addWidth = _useState10[0],\n      setAddWidth = _useState10[1];\n    var _useState11 = useState(0),\n      _useState12 = _slicedToArray(_useState11, 2),\n      addHeight = _useState12[0],\n      setAddHeight = _useState12[1];\n    var _useRafState = useRafState(new Map()),\n      _useRafState2 = _slicedToArray(_useRafState, 2),\n      tabSizes = _useRafState2[0],\n      setTabSizes = _useRafState2[1];\n    var tabOffsets = useOffsets(tabs, tabSizes);\n    // ========================== Util =========================\n    var operationsHiddenClassName = computed(function () {\n      return \"\".concat(prefixCls.value, \"-nav-operations-hidden\");\n    });\n    var transformMin = shallowRef(0);\n    var transformMax = shallowRef(0);\n    watchEffect(function () {\n      if (!tabPositionTopOrBottom.value) {\n        transformMin.value = Math.min(0, wrapperHeight.value - wrapperScrollHeight.value);\n        transformMax.value = 0;\n      } else if (props.rtl) {\n        transformMin.value = 0;\n        transformMax.value = Math.max(0, wrapperScrollWidth.value - wrapperWidth.value);\n      } else {\n        transformMin.value = Math.min(0, wrapperWidth.value - wrapperScrollWidth.value);\n        transformMax.value = 0;\n      }\n    });\n    var alignInRange = function alignInRange(value) {\n      if (value < transformMin.value) {\n        return transformMin.value;\n      }\n      if (value > transformMax.value) {\n        return transformMax.value;\n      }\n      return value;\n    };\n    // ========================= Mobile ========================\n    var touchMovingRef = shallowRef();\n    var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      lockAnimation = _useState14[0],\n      setLockAnimation = _useState14[1];\n    var doLockAnimation = function doLockAnimation() {\n      setLockAnimation(Date.now());\n    };\n    var clearTouchMoving = function clearTouchMoving() {\n      clearTimeout(touchMovingRef.value);\n    };\n    var doMove = function doMove(setState, offset) {\n      setState(function (value) {\n        var newValue = alignInRange(value + offset);\n        return newValue;\n      });\n    };\n    useTouchMove(tabsWrapperRef, function (offsetX, offsetY) {\n      if (tabPositionTopOrBottom.value) {\n        // Skip scroll if place is enough\n        if (wrapperWidth.value >= wrapperScrollWidth.value) {\n          return false;\n        }\n        doMove(setTransformLeft, offsetX);\n      } else {\n        if (wrapperHeight.value >= wrapperScrollHeight.value) {\n          return false;\n        }\n        doMove(setTransformTop, offsetY);\n      }\n      clearTouchMoving();\n      doLockAnimation();\n      return true;\n    });\n    watch(lockAnimation, function () {\n      clearTouchMoving();\n      if (lockAnimation.value) {\n        touchMovingRef.value = setTimeout(function () {\n          setLockAnimation(0);\n        }, 100);\n      }\n    });\n    // ========================= Scroll ========================\n    var scrollToTab = function scrollToTab() {\n      var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : props.activeKey;\n      var tabOffset = tabOffsets.value.get(key) || {\n        width: 0,\n        height: 0,\n        left: 0,\n        right: 0,\n        top: 0\n      };\n      if (tabPositionTopOrBottom.value) {\n        // ============ Align with top & bottom ============\n        var newTransform = transformLeft.value;\n        // RTL\n        if (props.rtl) {\n          if (tabOffset.right < transformLeft.value) {\n            newTransform = tabOffset.right;\n          } else if (tabOffset.right + tabOffset.width > transformLeft.value + wrapperWidth.value) {\n            newTransform = tabOffset.right + tabOffset.width - wrapperWidth.value;\n          }\n        }\n        // LTR\n        else if (tabOffset.left < -transformLeft.value) {\n          newTransform = -tabOffset.left;\n        } else if (tabOffset.left + tabOffset.width > -transformLeft.value + wrapperWidth.value) {\n          newTransform = -(tabOffset.left + tabOffset.width - wrapperWidth.value);\n        }\n        setTransformTop(0);\n        setTransformLeft(alignInRange(newTransform));\n      } else {\n        // ============ Align with left & right ============\n        var _newTransform = transformTop.value;\n        if (tabOffset.top < -transformTop.value) {\n          _newTransform = -tabOffset.top;\n        } else if (tabOffset.top + tabOffset.height > -transformTop.value + wrapperHeight.value) {\n          _newTransform = -(tabOffset.top + tabOffset.height - wrapperHeight.value);\n        }\n        setTransformLeft(0);\n        setTransformTop(alignInRange(_newTransform));\n      }\n    };\n    var visibleStart = shallowRef(0);\n    var visibleEnd = shallowRef(0);\n    watchEffect(function () {\n      var _ref3;\n      var unit;\n      var position;\n      var transformSize;\n      var basicSize;\n      var tabContentSize;\n      var addSize;\n      var tabOffsetsValue = tabOffsets.value;\n      if (['top', 'bottom'].includes(props.tabPosition)) {\n        unit = 'width';\n        basicSize = wrapperWidth.value;\n        tabContentSize = wrapperScrollWidth.value;\n        addSize = addWidth.value;\n        position = props.rtl ? 'right' : 'left';\n        transformSize = Math.abs(transformLeft.value);\n      } else {\n        unit = 'height';\n        basicSize = wrapperHeight.value;\n        tabContentSize = wrapperScrollWidth.value;\n        addSize = addHeight.value;\n        position = 'top';\n        transformSize = -transformTop.value;\n      }\n      var mergedBasicSize = basicSize;\n      if (tabContentSize + addSize > basicSize && tabContentSize < basicSize) {\n        mergedBasicSize = basicSize - addSize;\n      }\n      var tabsVal = tabs.value;\n      if (!tabsVal.length) {\n        var _ref2;\n        return _ref2 = [0, 0], visibleStart.value = _ref2[0], visibleEnd.value = _ref2[1], _ref2;\n      }\n      var len = tabsVal.length;\n      var endIndex = len;\n      for (var i = 0; i < len; i += 1) {\n        var offset = tabOffsetsValue.get(tabsVal[i].key) || DEFAULT_SIZE;\n        if (offset[position] + offset[unit] > transformSize + mergedBasicSize) {\n          endIndex = i - 1;\n          break;\n        }\n      }\n      var startIndex = 0;\n      for (var _i = len - 1; _i >= 0; _i -= 1) {\n        var _offset = tabOffsetsValue.get(tabsVal[_i].key) || DEFAULT_SIZE;\n        if (_offset[position] < transformSize) {\n          startIndex = _i + 1;\n          break;\n        }\n      }\n      return _ref3 = [startIndex, endIndex], visibleStart.value = _ref3[0], visibleEnd.value = _ref3[1], _ref3;\n    });\n    var onListHolderResize = function onListHolderResize() {\n      var _a, _b, _c, _d, _e;\n      // Update wrapper records\n      var offsetWidth = ((_a = tabsWrapperRef.value) === null || _a === void 0 ? void 0 : _a.offsetWidth) || 0;\n      var offsetHeight = ((_b = tabsWrapperRef.value) === null || _b === void 0 ? void 0 : _b.offsetHeight) || 0;\n      var addDom = ((_c = innerAddButtonRef.value) === null || _c === void 0 ? void 0 : _c.$el) || {};\n      var newAddWidth = addDom.offsetWidth || 0;\n      var newAddHeight = addDom.offsetHeight || 0;\n      setWrapperWidth(offsetWidth);\n      setWrapperHeight(offsetHeight);\n      setAddWidth(newAddWidth);\n      setAddHeight(newAddHeight);\n      var newWrapperScrollWidth = (((_d = tabListRef.value) === null || _d === void 0 ? void 0 : _d.offsetWidth) || 0) - newAddWidth;\n      var newWrapperScrollHeight = (((_e = tabListRef.value) === null || _e === void 0 ? void 0 : _e.offsetHeight) || 0) - newAddHeight;\n      setWrapperScrollWidth(newWrapperScrollWidth);\n      setWrapperScrollHeight(newWrapperScrollHeight);\n      // Update buttons records\n      setTabSizes(function () {\n        var newSizes = new Map();\n        tabs.value.forEach(function (_ref4) {\n          var key = _ref4.key;\n          var btnRef = btnRefs.value.get(key);\n          var btnNode = (btnRef === null || btnRef === void 0 ? void 0 : btnRef.$el) || btnRef;\n          if (btnNode) {\n            newSizes.set(key, {\n              width: btnNode.offsetWidth,\n              height: btnNode.offsetHeight,\n              left: btnNode.offsetLeft,\n              top: btnNode.offsetTop\n            });\n          }\n        });\n        return newSizes;\n      });\n    };\n    // ======================== Dropdown =======================\n    var hiddenTabs = computed(function () {\n      return [].concat(_toConsumableArray(tabs.value.slice(0, visibleStart.value)), _toConsumableArray(tabs.value.slice(visibleEnd.value + 1)));\n    });\n    // =================== Link & Operations ===================\n    var _useState15 = useState(),\n      _useState16 = _slicedToArray(_useState15, 2),\n      inkStyle = _useState16[0],\n      setInkStyle = _useState16[1];\n    var activeTabOffset = computed(function () {\n      return tabOffsets.value.get(props.activeKey);\n    });\n    // Delay set ink style to avoid remove tab blink\n    var inkBarRafRef = shallowRef();\n    var cleanInkBarRaf = function cleanInkBarRaf() {\n      raf.cancel(inkBarRafRef.value);\n    };\n    watch([activeTabOffset, tabPositionTopOrBottom, function () {\n      return props.rtl;\n    }], function () {\n      var newInkStyle = {};\n      if (activeTabOffset.value) {\n        if (tabPositionTopOrBottom.value) {\n          if (props.rtl) {\n            newInkStyle.right = toPx(activeTabOffset.value.right);\n          } else {\n            newInkStyle.left = toPx(activeTabOffset.value.left);\n          }\n          newInkStyle.width = toPx(activeTabOffset.value.width);\n        } else {\n          newInkStyle.top = toPx(activeTabOffset.value.top);\n          newInkStyle.height = toPx(activeTabOffset.value.height);\n        }\n      }\n      cleanInkBarRaf();\n      inkBarRafRef.value = raf(function () {\n        setInkStyle(newInkStyle);\n      });\n    });\n    watch([function () {\n      return props.activeKey;\n    }, activeTabOffset, tabOffsets, tabPositionTopOrBottom], function () {\n      scrollToTab();\n    }, {\n      flush: 'post'\n    });\n    watch([function () {\n      return props.rtl;\n    }, function () {\n      return props.tabBarGutter;\n    }, function () {\n      return props.activeKey;\n    }, function () {\n      return tabs.value;\n    }], function () {\n      onListHolderResize();\n    }, {\n      flush: 'post'\n    });\n    var ExtraContent = function ExtraContent(_ref5) {\n      var position = _ref5.position,\n        prefixCls = _ref5.prefixCls,\n        extra = _ref5.extra;\n      if (!extra) return null;\n      var content = extra === null || extra === void 0 ? void 0 : extra({\n        position: position\n      });\n      return content ? _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-extra-content\")\n      }, [content]) : null;\n    };\n    onBeforeUnmount(function () {\n      clearTouchMoving();\n      cleanInkBarRaf();\n    });\n    return function () {\n      var _classNames;\n      var id = props.id,\n        animated = props.animated,\n        activeKey = props.activeKey,\n        rtl = props.rtl,\n        editable = props.editable,\n        locale = props.locale,\n        tabPosition = props.tabPosition,\n        tabBarGutter = props.tabBarGutter,\n        onTabClick = props.onTabClick;\n      var className = attrs.class,\n        style = attrs.style;\n      var pre = prefixCls.value;\n      // ========================= Render ========================\n      var hasDropdown = !!hiddenTabs.value.length;\n      var wrapPrefix = \"\".concat(pre, \"-nav-wrap\");\n      var pingLeft;\n      var pingRight;\n      var pingTop;\n      var pingBottom;\n      if (tabPositionTopOrBottom.value) {\n        if (rtl) {\n          pingRight = transformLeft.value > 0;\n          pingLeft = transformLeft.value + wrapperWidth.value < wrapperScrollWidth.value;\n        } else {\n          pingLeft = transformLeft.value < 0;\n          pingRight = -transformLeft.value + wrapperWidth.value < wrapperScrollWidth.value;\n        }\n      } else {\n        pingTop = transformTop.value < 0;\n        pingBottom = -transformTop.value + wrapperHeight.value < wrapperScrollHeight.value;\n      }\n      var tabNodeStyle = {};\n      if (tabPosition === 'top' || tabPosition === 'bottom') {\n        tabNodeStyle[rtl ? 'marginRight' : 'marginLeft'] = typeof tabBarGutter === 'number' ? \"\".concat(tabBarGutter, \"px\") : tabBarGutter;\n      } else {\n        tabNodeStyle.marginTop = typeof tabBarGutter === 'number' ? \"\".concat(tabBarGutter, \"px\") : tabBarGutter;\n      }\n      var tabNodes = tabs.value.map(function (tab, i) {\n        var key = tab.key;\n        return _createVNode(TabNode, {\n          \"id\": id,\n          \"prefixCls\": pre,\n          \"key\": key,\n          \"tab\": tab,\n          \"style\": i === 0 ? undefined : tabNodeStyle,\n          \"closable\": tab.closable,\n          \"editable\": editable,\n          \"active\": key === activeKey,\n          \"removeAriaLabel\": locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n          \"ref\": setRef(key),\n          \"onClick\": function onClick(e) {\n            onTabClick(key, e);\n          },\n          \"onFocus\": function onFocus() {\n            scrollToTab(key);\n            doLockAnimation();\n            if (!tabsWrapperRef.value) {\n              return;\n            }\n            // Focus element will make scrollLeft change which we should reset back\n            if (!rtl) {\n              tabsWrapperRef.value.scrollLeft = 0;\n            }\n            tabsWrapperRef.value.scrollTop = 0;\n          }\n        }, slots);\n      });\n      return _createVNode(\"div\", {\n        \"role\": \"tablist\",\n        \"class\": classNames(\"\".concat(pre, \"-nav\"), className),\n        \"style\": style,\n        \"onKeydown\": function onKeydown() {\n          // No need animation when use keyboard\n          doLockAnimation();\n        }\n      }, [_createVNode(ExtraContent, {\n        \"position\": \"left\",\n        \"prefixCls\": pre,\n        \"extra\": slots.leftExtra\n      }, null), _createVNode(ResizeObserver, {\n        \"onResize\": onListHolderResize\n      }, {\n        default: function _default() {\n          return [_createVNode(\"div\", {\n            \"class\": classNames(wrapPrefix, (_classNames = {}, _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-left\"), pingLeft), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-right\"), pingRight), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-top\"), pingTop), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-bottom\"), pingBottom), _classNames)),\n            \"ref\": tabsWrapperRef\n          }, [_createVNode(ResizeObserver, {\n            \"onResize\": onListHolderResize\n          }, {\n            default: function _default() {\n              return [_createVNode(\"div\", {\n                \"ref\": tabListRef,\n                \"class\": \"\".concat(pre, \"-nav-list\"),\n                \"style\": {\n                  transform: \"translate(\".concat(transformLeft.value, \"px, \").concat(transformTop.value, \"px)\"),\n                  transition: lockAnimation.value ? 'none' : undefined\n                }\n              }, [tabNodes, _createVNode(AddButton, {\n                \"ref\": innerAddButtonRef,\n                \"prefixCls\": pre,\n                \"locale\": locale,\n                \"editable\": editable,\n                \"style\": _extends(_extends({}, tabNodes.length === 0 ? undefined : tabNodeStyle), {\n                  visibility: hasDropdown ? 'hidden' : null\n                })\n              }, null), _createVNode(\"div\", {\n                \"class\": classNames(\"\".concat(pre, \"-ink-bar\"), _defineProperty({}, \"\".concat(pre, \"-ink-bar-animated\"), animated.inkBar)),\n                \"style\": inkStyle.value\n              }, null)])];\n            }\n          })])];\n        }\n      }), _createVNode(OperationNode, _objectSpread(_objectSpread({}, props), {}, {\n        \"removeAriaLabel\": locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n        \"ref\": operationsRef,\n        \"prefixCls\": pre,\n        \"tabs\": hiddenTabs.value,\n        \"class\": !hasDropdown && operationsHiddenClassName.value\n      }), pick(slots, ['moreIcon'])), _createVNode(ExtraContent, {\n        \"position\": \"right\",\n        \"prefixCls\": pre,\n        \"extra\": slots.rightExtra\n      }, null), _createVNode(ExtraContent, {\n        \"position\": \"right\",\n        \"prefixCls\": pre,\n        \"extra\": slots.tabBarExtraContent\n      }, null)]);\n    };\n  }\n});","map":{"version":3,"names":["_objectSpread","_extends","_defineProperty","_toConsumableArray","_slicedToArray","resolveDirective","_resolveDirective","createVNode","_createVNode","useRafState","TabNode","useOffsets","OperationNode","useInjectTabs","useTouchMove","AddButton","objectType","functionType","shallowRef","onBeforeUnmount","defineComponent","watch","watchEffect","computed","PropTypes","useSyncState","useState","raf","classNames","ResizeObserver","toPx","useRefs","pick","DEFAULT_SIZE","width","height","left","top","right","tabNavListProps","id","type","String","tabPosition","activeKey","Number","rtl","Boolean","animated","editable","moreIcon","any","moreTransitionName","mobile","tabBarGutter","renderTabBar","Function","locale","popupClassName","getPopupContainer","onTabClick","onTabScroll","compatConfig","MODE","name","inheritAttrs","props","slots","emits","setup","_ref","attrs","_useInjectTabs","tabs","prefixCls","tabsWrapperRef","tabListRef","operationsRef","innerAddButtonRef","_useRefs","_useRefs2","setRef","btnRefs","tabPositionTopOrBottom","_useSyncState","next","prev","value","direction","_useSyncState2","transformLeft","setTransformLeft","_useSyncState3","_useSyncState4","transformTop","setTransformTop","_useState","_useState2","wrapperScrollWidth","setWrapperScrollWidth","_useState3","_useState4","wrapperScrollHeight","setWrapperScrollHeight","_useState5","_useState6","wrapperWidth","setWrapperWidth","_useState7","_useState8","wrapperHeight","setWrapperHeight","_useState9","_useState10","addWidth","setAddWidth","_useState11","_useState12","addHeight","setAddHeight","_useRafState","Map","_useRafState2","tabSizes","setTabSizes","tabOffsets","operationsHiddenClassName","concat","transformMin","transformMax","Math","min","max","alignInRange","touchMovingRef","_useState13","_useState14","lockAnimation","setLockAnimation","doLockAnimation","Date","now","clearTouchMoving","clearTimeout","doMove","setState","offset","newValue","offsetX","offsetY","setTimeout","scrollToTab","key","arguments","length","undefined","tabOffset","get","newTransform","_newTransform","visibleStart","visibleEnd","_ref3","unit","position","transformSize","basicSize","tabContentSize","addSize","tabOffsetsValue","includes","abs","mergedBasicSize","tabsVal","_ref2","len","endIndex","i","startIndex","_i","_offset","onListHolderResize","_a","_b","_c","_d","_e","offsetWidth","offsetHeight","addDom","$el","newAddWidth","newAddHeight","newWrapperScrollWidth","newWrapperScrollHeight","newSizes","forEach","_ref4","btnRef","btnNode","set","offsetLeft","offsetTop","hiddenTabs","slice","_useState15","_useState16","inkStyle","setInkStyle","activeTabOffset","inkBarRafRef","cleanInkBarRaf","cancel","newInkStyle","flush","ExtraContent","_ref5","extra","content","_classNames","className","class","style","pre","hasDropdown","wrapPrefix","pingLeft","pingRight","pingTop","pingBottom","tabNodeStyle","marginTop","tabNodes","map","tab","closable","removeAriaLabel","onClick","e","onFocus","scrollLeft","scrollTop","onKeydown","leftExtra","default","_default","transform","transition","visibility","inkBar","rightExtra","tabBarExtraContent"],"sources":["D:/Desktop/Code/CcAgSearch/ccso-frontend/node_modules/ant-design-vue/es/tabs/src/TabNavList/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { useRafState } from '../hooks/useRaf';\nimport TabNode from './TabNode';\nimport useOffsets from '../hooks/useOffsets';\nimport OperationNode from './OperationNode';\nimport { useInjectTabs } from '../TabContext';\nimport useTouchMove from '../hooks/useTouchMove';\nimport AddButton from './AddButton';\nimport { objectType, functionType } from '../../../_util/type';\nimport { shallowRef, onBeforeUnmount, defineComponent, watch, watchEffect, computed } from 'vue';\nimport PropTypes from '../../../_util/vue-types';\nimport useSyncState from '../hooks/useSyncState';\nimport useState from '../../../_util/hooks/useState';\nimport raf from '../../../_util/raf';\nimport classNames from '../../../_util/classNames';\nimport ResizeObserver from '../../../vc-resize-observer';\nimport { toPx } from '../../../_util/util';\nimport useRefs from '../../../_util/hooks/useRefs';\nimport pick from 'lodash-es/pick';\nvar DEFAULT_SIZE = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0,\n  right: 0\n};\nexport var tabNavListProps = function tabNavListProps() {\n  return {\n    id: {\n      type: String\n    },\n    tabPosition: {\n      type: String\n    },\n    activeKey: {\n      type: [String, Number]\n    },\n    rtl: {\n      type: Boolean\n    },\n    animated: objectType(),\n    editable: objectType(),\n    moreIcon: PropTypes.any,\n    moreTransitionName: {\n      type: String\n    },\n    mobile: {\n      type: Boolean\n    },\n    tabBarGutter: {\n      type: Number\n    },\n    renderTabBar: {\n      type: Function\n    },\n    locale: objectType(),\n    popupClassName: String,\n    getPopupContainer: functionType(),\n    onTabClick: {\n      type: Function\n    },\n    onTabScroll: {\n      type: Function\n    }\n  };\n};\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'TabNavList',\n  inheritAttrs: false,\n  props: tabNavListProps(),\n  slots: ['moreIcon', 'leftExtra', 'rightExtra', 'tabBarExtraContent'],\n  emits: ['tabClick', 'tabScroll'],\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n      slots = _ref.slots;\n    var _useInjectTabs = useInjectTabs(),\n      tabs = _useInjectTabs.tabs,\n      prefixCls = _useInjectTabs.prefixCls;\n    var tabsWrapperRef = shallowRef();\n    var tabListRef = shallowRef();\n    var operationsRef = shallowRef();\n    var innerAddButtonRef = shallowRef();\n    var _useRefs = useRefs(),\n      _useRefs2 = _slicedToArray(_useRefs, 2),\n      setRef = _useRefs2[0],\n      btnRefs = _useRefs2[1];\n    var tabPositionTopOrBottom = computed(function () {\n      return props.tabPosition === 'top' || props.tabPosition === 'bottom';\n    });\n    var _useSyncState = useSyncState(0, function (next, prev) {\n        if (tabPositionTopOrBottom.value && props.onTabScroll) {\n          props.onTabScroll({\n            direction: next > prev ? 'left' : 'right'\n          });\n        }\n      }),\n      _useSyncState2 = _slicedToArray(_useSyncState, 2),\n      transformLeft = _useSyncState2[0],\n      setTransformLeft = _useSyncState2[1];\n    var _useSyncState3 = useSyncState(0, function (next, prev) {\n        if (!tabPositionTopOrBottom.value && props.onTabScroll) {\n          props.onTabScroll({\n            direction: next > prev ? 'top' : 'bottom'\n          });\n        }\n      }),\n      _useSyncState4 = _slicedToArray(_useSyncState3, 2),\n      transformTop = _useSyncState4[0],\n      setTransformTop = _useSyncState4[1];\n    var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      wrapperScrollWidth = _useState2[0],\n      setWrapperScrollWidth = _useState2[1];\n    var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      wrapperScrollHeight = _useState4[0],\n      setWrapperScrollHeight = _useState4[1];\n    var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      wrapperWidth = _useState6[0],\n      setWrapperWidth = _useState6[1];\n    var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      wrapperHeight = _useState8[0],\n      setWrapperHeight = _useState8[1];\n    var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      addWidth = _useState10[0],\n      setAddWidth = _useState10[1];\n    var _useState11 = useState(0),\n      _useState12 = _slicedToArray(_useState11, 2),\n      addHeight = _useState12[0],\n      setAddHeight = _useState12[1];\n    var _useRafState = useRafState(new Map()),\n      _useRafState2 = _slicedToArray(_useRafState, 2),\n      tabSizes = _useRafState2[0],\n      setTabSizes = _useRafState2[1];\n    var tabOffsets = useOffsets(tabs, tabSizes);\n    // ========================== Util =========================\n    var operationsHiddenClassName = computed(function () {\n      return \"\".concat(prefixCls.value, \"-nav-operations-hidden\");\n    });\n    var transformMin = shallowRef(0);\n    var transformMax = shallowRef(0);\n    watchEffect(function () {\n      if (!tabPositionTopOrBottom.value) {\n        transformMin.value = Math.min(0, wrapperHeight.value - wrapperScrollHeight.value);\n        transformMax.value = 0;\n      } else if (props.rtl) {\n        transformMin.value = 0;\n        transformMax.value = Math.max(0, wrapperScrollWidth.value - wrapperWidth.value);\n      } else {\n        transformMin.value = Math.min(0, wrapperWidth.value - wrapperScrollWidth.value);\n        transformMax.value = 0;\n      }\n    });\n    var alignInRange = function alignInRange(value) {\n      if (value < transformMin.value) {\n        return transformMin.value;\n      }\n      if (value > transformMax.value) {\n        return transformMax.value;\n      }\n      return value;\n    };\n    // ========================= Mobile ========================\n    var touchMovingRef = shallowRef();\n    var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      lockAnimation = _useState14[0],\n      setLockAnimation = _useState14[1];\n    var doLockAnimation = function doLockAnimation() {\n      setLockAnimation(Date.now());\n    };\n    var clearTouchMoving = function clearTouchMoving() {\n      clearTimeout(touchMovingRef.value);\n    };\n    var doMove = function doMove(setState, offset) {\n      setState(function (value) {\n        var newValue = alignInRange(value + offset);\n        return newValue;\n      });\n    };\n    useTouchMove(tabsWrapperRef, function (offsetX, offsetY) {\n      if (tabPositionTopOrBottom.value) {\n        // Skip scroll if place is enough\n        if (wrapperWidth.value >= wrapperScrollWidth.value) {\n          return false;\n        }\n        doMove(setTransformLeft, offsetX);\n      } else {\n        if (wrapperHeight.value >= wrapperScrollHeight.value) {\n          return false;\n        }\n        doMove(setTransformTop, offsetY);\n      }\n      clearTouchMoving();\n      doLockAnimation();\n      return true;\n    });\n    watch(lockAnimation, function () {\n      clearTouchMoving();\n      if (lockAnimation.value) {\n        touchMovingRef.value = setTimeout(function () {\n          setLockAnimation(0);\n        }, 100);\n      }\n    });\n    // ========================= Scroll ========================\n    var scrollToTab = function scrollToTab() {\n      var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : props.activeKey;\n      var tabOffset = tabOffsets.value.get(key) || {\n        width: 0,\n        height: 0,\n        left: 0,\n        right: 0,\n        top: 0\n      };\n      if (tabPositionTopOrBottom.value) {\n        // ============ Align with top & bottom ============\n        var newTransform = transformLeft.value;\n        // RTL\n        if (props.rtl) {\n          if (tabOffset.right < transformLeft.value) {\n            newTransform = tabOffset.right;\n          } else if (tabOffset.right + tabOffset.width > transformLeft.value + wrapperWidth.value) {\n            newTransform = tabOffset.right + tabOffset.width - wrapperWidth.value;\n          }\n        }\n        // LTR\n        else if (tabOffset.left < -transformLeft.value) {\n          newTransform = -tabOffset.left;\n        } else if (tabOffset.left + tabOffset.width > -transformLeft.value + wrapperWidth.value) {\n          newTransform = -(tabOffset.left + tabOffset.width - wrapperWidth.value);\n        }\n        setTransformTop(0);\n        setTransformLeft(alignInRange(newTransform));\n      } else {\n        // ============ Align with left & right ============\n        var _newTransform = transformTop.value;\n        if (tabOffset.top < -transformTop.value) {\n          _newTransform = -tabOffset.top;\n        } else if (tabOffset.top + tabOffset.height > -transformTop.value + wrapperHeight.value) {\n          _newTransform = -(tabOffset.top + tabOffset.height - wrapperHeight.value);\n        }\n        setTransformLeft(0);\n        setTransformTop(alignInRange(_newTransform));\n      }\n    };\n    var visibleStart = shallowRef(0);\n    var visibleEnd = shallowRef(0);\n    watchEffect(function () {\n      var _ref3;\n      var unit;\n      var position;\n      var transformSize;\n      var basicSize;\n      var tabContentSize;\n      var addSize;\n      var tabOffsetsValue = tabOffsets.value;\n      if (['top', 'bottom'].includes(props.tabPosition)) {\n        unit = 'width';\n        basicSize = wrapperWidth.value;\n        tabContentSize = wrapperScrollWidth.value;\n        addSize = addWidth.value;\n        position = props.rtl ? 'right' : 'left';\n        transformSize = Math.abs(transformLeft.value);\n      } else {\n        unit = 'height';\n        basicSize = wrapperHeight.value;\n        tabContentSize = wrapperScrollWidth.value;\n        addSize = addHeight.value;\n        position = 'top';\n        transformSize = -transformTop.value;\n      }\n      var mergedBasicSize = basicSize;\n      if (tabContentSize + addSize > basicSize && tabContentSize < basicSize) {\n        mergedBasicSize = basicSize - addSize;\n      }\n      var tabsVal = tabs.value;\n      if (!tabsVal.length) {\n        var _ref2;\n        return _ref2 = [0, 0], visibleStart.value = _ref2[0], visibleEnd.value = _ref2[1], _ref2;\n      }\n      var len = tabsVal.length;\n      var endIndex = len;\n      for (var i = 0; i < len; i += 1) {\n        var offset = tabOffsetsValue.get(tabsVal[i].key) || DEFAULT_SIZE;\n        if (offset[position] + offset[unit] > transformSize + mergedBasicSize) {\n          endIndex = i - 1;\n          break;\n        }\n      }\n      var startIndex = 0;\n      for (var _i = len - 1; _i >= 0; _i -= 1) {\n        var _offset = tabOffsetsValue.get(tabsVal[_i].key) || DEFAULT_SIZE;\n        if (_offset[position] < transformSize) {\n          startIndex = _i + 1;\n          break;\n        }\n      }\n      return _ref3 = [startIndex, endIndex], visibleStart.value = _ref3[0], visibleEnd.value = _ref3[1], _ref3;\n    });\n    var onListHolderResize = function onListHolderResize() {\n      var _a, _b, _c, _d, _e;\n      // Update wrapper records\n      var offsetWidth = ((_a = tabsWrapperRef.value) === null || _a === void 0 ? void 0 : _a.offsetWidth) || 0;\n      var offsetHeight = ((_b = tabsWrapperRef.value) === null || _b === void 0 ? void 0 : _b.offsetHeight) || 0;\n      var addDom = ((_c = innerAddButtonRef.value) === null || _c === void 0 ? void 0 : _c.$el) || {};\n      var newAddWidth = addDom.offsetWidth || 0;\n      var newAddHeight = addDom.offsetHeight || 0;\n      setWrapperWidth(offsetWidth);\n      setWrapperHeight(offsetHeight);\n      setAddWidth(newAddWidth);\n      setAddHeight(newAddHeight);\n      var newWrapperScrollWidth = (((_d = tabListRef.value) === null || _d === void 0 ? void 0 : _d.offsetWidth) || 0) - newAddWidth;\n      var newWrapperScrollHeight = (((_e = tabListRef.value) === null || _e === void 0 ? void 0 : _e.offsetHeight) || 0) - newAddHeight;\n      setWrapperScrollWidth(newWrapperScrollWidth);\n      setWrapperScrollHeight(newWrapperScrollHeight);\n      // Update buttons records\n      setTabSizes(function () {\n        var newSizes = new Map();\n        tabs.value.forEach(function (_ref4) {\n          var key = _ref4.key;\n          var btnRef = btnRefs.value.get(key);\n          var btnNode = (btnRef === null || btnRef === void 0 ? void 0 : btnRef.$el) || btnRef;\n          if (btnNode) {\n            newSizes.set(key, {\n              width: btnNode.offsetWidth,\n              height: btnNode.offsetHeight,\n              left: btnNode.offsetLeft,\n              top: btnNode.offsetTop\n            });\n          }\n        });\n        return newSizes;\n      });\n    };\n    // ======================== Dropdown =======================\n    var hiddenTabs = computed(function () {\n      return [].concat(_toConsumableArray(tabs.value.slice(0, visibleStart.value)), _toConsumableArray(tabs.value.slice(visibleEnd.value + 1)));\n    });\n    // =================== Link & Operations ===================\n    var _useState15 = useState(),\n      _useState16 = _slicedToArray(_useState15, 2),\n      inkStyle = _useState16[0],\n      setInkStyle = _useState16[1];\n    var activeTabOffset = computed(function () {\n      return tabOffsets.value.get(props.activeKey);\n    });\n    // Delay set ink style to avoid remove tab blink\n    var inkBarRafRef = shallowRef();\n    var cleanInkBarRaf = function cleanInkBarRaf() {\n      raf.cancel(inkBarRafRef.value);\n    };\n    watch([activeTabOffset, tabPositionTopOrBottom, function () {\n      return props.rtl;\n    }], function () {\n      var newInkStyle = {};\n      if (activeTabOffset.value) {\n        if (tabPositionTopOrBottom.value) {\n          if (props.rtl) {\n            newInkStyle.right = toPx(activeTabOffset.value.right);\n          } else {\n            newInkStyle.left = toPx(activeTabOffset.value.left);\n          }\n          newInkStyle.width = toPx(activeTabOffset.value.width);\n        } else {\n          newInkStyle.top = toPx(activeTabOffset.value.top);\n          newInkStyle.height = toPx(activeTabOffset.value.height);\n        }\n      }\n      cleanInkBarRaf();\n      inkBarRafRef.value = raf(function () {\n        setInkStyle(newInkStyle);\n      });\n    });\n    watch([function () {\n      return props.activeKey;\n    }, activeTabOffset, tabOffsets, tabPositionTopOrBottom], function () {\n      scrollToTab();\n    }, {\n      flush: 'post'\n    });\n    watch([function () {\n      return props.rtl;\n    }, function () {\n      return props.tabBarGutter;\n    }, function () {\n      return props.activeKey;\n    }, function () {\n      return tabs.value;\n    }], function () {\n      onListHolderResize();\n    }, {\n      flush: 'post'\n    });\n    var ExtraContent = function ExtraContent(_ref5) {\n      var position = _ref5.position,\n        prefixCls = _ref5.prefixCls,\n        extra = _ref5.extra;\n      if (!extra) return null;\n      var content = extra === null || extra === void 0 ? void 0 : extra({\n        position: position\n      });\n      return content ? _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-extra-content\")\n      }, [content]) : null;\n    };\n    onBeforeUnmount(function () {\n      clearTouchMoving();\n      cleanInkBarRaf();\n    });\n    return function () {\n      var _classNames;\n      var id = props.id,\n        animated = props.animated,\n        activeKey = props.activeKey,\n        rtl = props.rtl,\n        editable = props.editable,\n        locale = props.locale,\n        tabPosition = props.tabPosition,\n        tabBarGutter = props.tabBarGutter,\n        onTabClick = props.onTabClick;\n      var className = attrs.class,\n        style = attrs.style;\n      var pre = prefixCls.value;\n      // ========================= Render ========================\n      var hasDropdown = !!hiddenTabs.value.length;\n      var wrapPrefix = \"\".concat(pre, \"-nav-wrap\");\n      var pingLeft;\n      var pingRight;\n      var pingTop;\n      var pingBottom;\n      if (tabPositionTopOrBottom.value) {\n        if (rtl) {\n          pingRight = transformLeft.value > 0;\n          pingLeft = transformLeft.value + wrapperWidth.value < wrapperScrollWidth.value;\n        } else {\n          pingLeft = transformLeft.value < 0;\n          pingRight = -transformLeft.value + wrapperWidth.value < wrapperScrollWidth.value;\n        }\n      } else {\n        pingTop = transformTop.value < 0;\n        pingBottom = -transformTop.value + wrapperHeight.value < wrapperScrollHeight.value;\n      }\n      var tabNodeStyle = {};\n      if (tabPosition === 'top' || tabPosition === 'bottom') {\n        tabNodeStyle[rtl ? 'marginRight' : 'marginLeft'] = typeof tabBarGutter === 'number' ? \"\".concat(tabBarGutter, \"px\") : tabBarGutter;\n      } else {\n        tabNodeStyle.marginTop = typeof tabBarGutter === 'number' ? \"\".concat(tabBarGutter, \"px\") : tabBarGutter;\n      }\n      var tabNodes = tabs.value.map(function (tab, i) {\n        var key = tab.key;\n        return _createVNode(TabNode, {\n          \"id\": id,\n          \"prefixCls\": pre,\n          \"key\": key,\n          \"tab\": tab,\n          \"style\": i === 0 ? undefined : tabNodeStyle,\n          \"closable\": tab.closable,\n          \"editable\": editable,\n          \"active\": key === activeKey,\n          \"removeAriaLabel\": locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n          \"ref\": setRef(key),\n          \"onClick\": function onClick(e) {\n            onTabClick(key, e);\n          },\n          \"onFocus\": function onFocus() {\n            scrollToTab(key);\n            doLockAnimation();\n            if (!tabsWrapperRef.value) {\n              return;\n            }\n            // Focus element will make scrollLeft change which we should reset back\n            if (!rtl) {\n              tabsWrapperRef.value.scrollLeft = 0;\n            }\n            tabsWrapperRef.value.scrollTop = 0;\n          }\n        }, slots);\n      });\n      return _createVNode(\"div\", {\n        \"role\": \"tablist\",\n        \"class\": classNames(\"\".concat(pre, \"-nav\"), className),\n        \"style\": style,\n        \"onKeydown\": function onKeydown() {\n          // No need animation when use keyboard\n          doLockAnimation();\n        }\n      }, [_createVNode(ExtraContent, {\n        \"position\": \"left\",\n        \"prefixCls\": pre,\n        \"extra\": slots.leftExtra\n      }, null), _createVNode(ResizeObserver, {\n        \"onResize\": onListHolderResize\n      }, {\n        default: function _default() {\n          return [_createVNode(\"div\", {\n            \"class\": classNames(wrapPrefix, (_classNames = {}, _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-left\"), pingLeft), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-right\"), pingRight), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-top\"), pingTop), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-bottom\"), pingBottom), _classNames)),\n            \"ref\": tabsWrapperRef\n          }, [_createVNode(ResizeObserver, {\n            \"onResize\": onListHolderResize\n          }, {\n            default: function _default() {\n              return [_createVNode(\"div\", {\n                \"ref\": tabListRef,\n                \"class\": \"\".concat(pre, \"-nav-list\"),\n                \"style\": {\n                  transform: \"translate(\".concat(transformLeft.value, \"px, \").concat(transformTop.value, \"px)\"),\n                  transition: lockAnimation.value ? 'none' : undefined\n                }\n              }, [tabNodes, _createVNode(AddButton, {\n                \"ref\": innerAddButtonRef,\n                \"prefixCls\": pre,\n                \"locale\": locale,\n                \"editable\": editable,\n                \"style\": _extends(_extends({}, tabNodes.length === 0 ? undefined : tabNodeStyle), {\n                  visibility: hasDropdown ? 'hidden' : null\n                })\n              }, null), _createVNode(\"div\", {\n                \"class\": classNames(\"\".concat(pre, \"-ink-bar\"), _defineProperty({}, \"\".concat(pre, \"-ink-bar-animated\"), animated.inkBar)),\n                \"style\": inkStyle.value\n              }, null)])];\n            }\n          })])];\n        }\n      }), _createVNode(OperationNode, _objectSpread(_objectSpread({}, props), {}, {\n        \"removeAriaLabel\": locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n        \"ref\": operationsRef,\n        \"prefixCls\": pre,\n        \"tabs\": hiddenTabs.value,\n        \"class\": !hasDropdown && operationsHiddenClassName.value\n      }), pick(slots, ['moreIcon'])), _createVNode(ExtraContent, {\n        \"position\": \"right\",\n        \"prefixCls\": pre,\n        \"extra\": slots.rightExtra\n      }, null), _createVNode(ExtraContent, {\n        \"position\": \"right\",\n        \"prefixCls\": pre,\n        \"extra\": slots.tabBarExtraContent\n      }, null)]);\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}