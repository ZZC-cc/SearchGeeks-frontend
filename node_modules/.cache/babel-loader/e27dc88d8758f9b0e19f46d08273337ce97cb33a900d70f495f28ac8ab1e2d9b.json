{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { useProvideKeysState, TreeContext } from './contextTypes';\nimport { getDragChildrenKeys, parseCheckedKeys, conductExpandParent, calcSelectedKeys, calcDropPosition, arrAdd, arrDel, posToArr } from './util';\nimport { flattenTreeData, convertTreeToData, convertDataToEntities, convertNodePropsToEventData, getTreeNodeProps, fillFieldNames } from './utils/treeUtil';\nimport NodeList, { MOTION_KEY, MotionEntity } from './NodeList';\nimport { conductCheck } from './utils/conductUtil';\nimport DropIndicator from './DropIndicator';\nimport { computed, defineComponent, onUnmounted, reactive, shallowRef, watch, watchEffect, nextTick, toRaw } from 'vue';\nimport initDefaultProps from '../_util/props-util/initDefaultProps';\nimport { treeProps } from './props';\nimport { warning } from '../vc-util/warning';\nimport KeyCode from '../_util/KeyCode';\nimport classNames from '../_util/classNames';\nimport pickAttrs from '../_util/pickAttrs';\nimport useMaxLevel from './useMaxLevel';\nvar MAX_RETRY_TIMES = 10;\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'Tree',\n  inheritAttrs: false,\n  slots: ['checkable', 'title', 'icon', 'titleRender'],\n  props: initDefaultProps(treeProps(), {\n    prefixCls: 'vc-tree',\n    showLine: false,\n    showIcon: true,\n    selectable: true,\n    multiple: false,\n    checkable: false,\n    disabled: false,\n    checkStrictly: false,\n    draggable: false,\n    expandAction: false,\n    defaultExpandParent: true,\n    autoExpandParent: false,\n    defaultExpandAll: false,\n    defaultExpandedKeys: [],\n    defaultCheckedKeys: [],\n    defaultSelectedKeys: [],\n    dropIndicatorRender: DropIndicator,\n    allowDrop: function allowDrop() {\n      return true;\n    }\n  }),\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n      slots = _ref.slots,\n      expose = _ref.expose;\n    var destroyed = shallowRef(false);\n    var delayedDragEnterLogic = {};\n    var indent = shallowRef();\n    var selectedKeys = shallowRef([]);\n    var checkedKeys = shallowRef([]);\n    var halfCheckedKeys = shallowRef([]);\n    var loadedKeys = shallowRef([]);\n    var loadingKeys = shallowRef([]);\n    var expandedKeys = shallowRef([]);\n    var loadingRetryTimes = {};\n    var dragState = reactive({\n      draggingNodeKey: null,\n      dragChildrenKeys: [],\n      // dropTargetKey is the key of abstract-drop-node\n      // the abstract-drop-node is the real drop node when drag and drop\n      // not the DOM drag over node\n      dropTargetKey: null,\n      dropPosition: null,\n      dropContainerKey: null,\n      dropLevelOffset: null,\n      dropTargetPos: null,\n      dropAllowed: true,\n      // the abstract-drag-over-node\n      // if mouse is on the bottom of top dom node or no the top of the bottom dom node\n      // abstract-drag-over-node is the top node\n      dragOverNodeKey: null\n    });\n    var treeData = shallowRef([]);\n    watch([function () {\n      return props.treeData;\n    }, function () {\n      return props.children;\n    }], function () {\n      treeData.value = props.treeData !== undefined ? toRaw(props.treeData).slice() : convertTreeToData(toRaw(props.children));\n    }, {\n      immediate: true,\n      deep: true\n    });\n    var keyEntities = shallowRef({});\n    var focused = shallowRef(false);\n    var activeKey = shallowRef(null);\n    var listChanging = shallowRef(false);\n    var fieldNames = computed(function () {\n      return fillFieldNames(props.fieldNames);\n    });\n    var listRef = shallowRef();\n    var dragStartMousePosition = null;\n    var dragNode = null;\n    var currentMouseOverDroppableNodeKey = null;\n    var treeNodeRequiredProps = computed(function () {\n      return {\n        expandedKeysSet: expandedKeysSet.value,\n        selectedKeysSet: selectedKeysSet.value,\n        loadedKeysSet: loadedKeysSet.value,\n        loadingKeysSet: loadingKeysSet.value,\n        checkedKeysSet: checkedKeysSet.value,\n        halfCheckedKeysSet: halfCheckedKeysSet.value,\n        dragOverNodeKey: dragState.dragOverNodeKey,\n        dropPosition: dragState.dropPosition,\n        keyEntities: keyEntities.value\n      };\n    });\n    var expandedKeysSet = computed(function () {\n      return new Set(expandedKeys.value);\n    });\n    var selectedKeysSet = computed(function () {\n      return new Set(selectedKeys.value);\n    });\n    var loadedKeysSet = computed(function () {\n      return new Set(loadedKeys.value);\n    });\n    var loadingKeysSet = computed(function () {\n      return new Set(loadingKeys.value);\n    });\n    var checkedKeysSet = computed(function () {\n      return new Set(checkedKeys.value);\n    });\n    var halfCheckedKeysSet = computed(function () {\n      return new Set(halfCheckedKeys.value);\n    });\n    watchEffect(function () {\n      if (treeData.value) {\n        var entitiesMap = convertDataToEntities(treeData.value, {\n          fieldNames: fieldNames.value\n        });\n        keyEntities.value = _extends(_defineProperty({}, MOTION_KEY, MotionEntity), entitiesMap.keyEntities);\n      }\n    });\n    var init = false; // 处理 defaultXxxx api, 仅仅首次有效\n    watch([function () {\n      return props.expandedKeys;\n    }, function () {\n      return props.autoExpandParent;\n    }, keyEntities],\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    function (_ref2, _ref3) {\n      var _ref4 = _slicedToArray(_ref2, 2),\n        _newKeys = _ref4[0],\n        newAutoExpandParent = _ref4[1];\n      var _ref5 = _slicedToArray(_ref3, 2),\n        _oldKeys = _ref5[0],\n        oldAutoExpandParent = _ref5[1];\n      var keys = expandedKeys.value;\n      // ================ expandedKeys =================\n      if (props.expandedKeys !== undefined || init && newAutoExpandParent !== oldAutoExpandParent) {\n        keys = props.autoExpandParent || !init && props.defaultExpandParent ? conductExpandParent(props.expandedKeys, keyEntities.value) : props.expandedKeys;\n      } else if (!init && props.defaultExpandAll) {\n        var cloneKeyEntities = _extends({}, keyEntities.value);\n        delete cloneKeyEntities[MOTION_KEY];\n        keys = Object.keys(cloneKeyEntities).map(function (key) {\n          return cloneKeyEntities[key].key;\n        });\n      } else if (!init && props.defaultExpandedKeys) {\n        keys = props.autoExpandParent || props.defaultExpandParent ? conductExpandParent(props.defaultExpandedKeys, keyEntities.value) : props.defaultExpandedKeys;\n      }\n      if (keys) {\n        expandedKeys.value = keys;\n      }\n      init = true;\n    }, {\n      immediate: true\n    });\n    // ================ flattenNodes =================\n    var flattenNodes = shallowRef([]);\n    watchEffect(function () {\n      flattenNodes.value = flattenTreeData(treeData.value, expandedKeys.value, fieldNames.value);\n    });\n    // ================ selectedKeys =================\n    watchEffect(function () {\n      if (props.selectable) {\n        if (props.selectedKeys !== undefined) {\n          selectedKeys.value = calcSelectedKeys(props.selectedKeys, props);\n        } else if (!init && props.defaultSelectedKeys) {\n          selectedKeys.value = calcSelectedKeys(props.defaultSelectedKeys, props);\n        }\n      }\n    });\n    var _useMaxLevel = useMaxLevel(keyEntities),\n      maxLevel = _useMaxLevel.maxLevel,\n      levelEntities = _useMaxLevel.levelEntities;\n    // ================= checkedKeys =================\n    watchEffect(function () {\n      if (props.checkable) {\n        var checkedKeyEntity;\n        if (props.checkedKeys !== undefined) {\n          checkedKeyEntity = parseCheckedKeys(props.checkedKeys) || {};\n        } else if (!init && props.defaultCheckedKeys) {\n          checkedKeyEntity = parseCheckedKeys(props.defaultCheckedKeys) || {};\n        } else if (treeData.value) {\n          // If `treeData` changed, we also need check it\n          checkedKeyEntity = parseCheckedKeys(props.checkedKeys) || {\n            checkedKeys: checkedKeys.value,\n            halfCheckedKeys: halfCheckedKeys.value\n          };\n        }\n        if (checkedKeyEntity) {\n          var _checkedKeyEntity = checkedKeyEntity,\n            _checkedKeyEntity$che = _checkedKeyEntity.checkedKeys,\n            newCheckedKeys = _checkedKeyEntity$che === void 0 ? [] : _checkedKeyEntity$che,\n            _checkedKeyEntity$hal = _checkedKeyEntity.halfCheckedKeys,\n            newHalfCheckedKeys = _checkedKeyEntity$hal === void 0 ? [] : _checkedKeyEntity$hal;\n          if (!props.checkStrictly) {\n            var conductKeys = conductCheck(newCheckedKeys, true, keyEntities.value, maxLevel.value, levelEntities.value);\n            newCheckedKeys = conductKeys.checkedKeys;\n            newHalfCheckedKeys = conductKeys.halfCheckedKeys;\n          }\n          checkedKeys.value = newCheckedKeys;\n          halfCheckedKeys.value = newHalfCheckedKeys;\n        }\n      }\n    });\n    // ================= loadedKeys ==================\n    watchEffect(function () {\n      if (props.loadedKeys) {\n        loadedKeys.value = props.loadedKeys;\n      }\n    });\n    var resetDragState = function resetDragState() {\n      _extends(dragState, {\n        dragOverNodeKey: null,\n        dropPosition: null,\n        dropLevelOffset: null,\n        dropTargetKey: null,\n        dropContainerKey: null,\n        dropTargetPos: null,\n        dropAllowed: false\n      });\n    };\n    var scrollTo = function scrollTo(scroll) {\n      listRef.value.scrollTo(scroll);\n    };\n    watch(function () {\n      return props.activeKey;\n    }, function () {\n      if (props.activeKey !== undefined) {\n        activeKey.value = props.activeKey;\n      }\n    }, {\n      immediate: true\n    });\n    watch(activeKey, function (val) {\n      nextTick(function () {\n        if (val !== null) {\n          scrollTo({\n            key: val\n          });\n        }\n      });\n    }, {\n      immediate: true,\n      flush: 'post'\n    });\n    // =========================== Expanded ===========================\n    /** Set uncontrolled `expandedKeys`. This will also auto update `flattenNodes`. */\n    var setExpandedKeys = function setExpandedKeys(keys) {\n      if (props.expandedKeys === undefined) {\n        expandedKeys.value = keys;\n      }\n    };\n    var cleanDragState = function cleanDragState() {\n      if (dragState.draggingNodeKey !== null) {\n        _extends(dragState, {\n          draggingNodeKey: null,\n          dropPosition: null,\n          dropContainerKey: null,\n          dropTargetKey: null,\n          dropLevelOffset: null,\n          dropAllowed: true,\n          dragOverNodeKey: null\n        });\n      }\n      dragStartMousePosition = null;\n      currentMouseOverDroppableNodeKey = null;\n    };\n    // if onNodeDragEnd is called, onWindowDragEnd won't be called since stopPropagation() is called\n    var onNodeDragEnd = function onNodeDragEnd(event, node) {\n      var onDragend = props.onDragend;\n      dragState.dragOverNodeKey = null;\n      cleanDragState();\n      onDragend === null || onDragend === void 0 ? void 0 : onDragend({\n        event: event,\n        node: node.eventData\n      });\n      dragNode = null;\n    };\n    // since stopPropagation() is called in treeNode\n    // if onWindowDrag is called, whice means state is keeped, drag state should be cleared\n    var onWindowDragEnd = function onWindowDragEnd(event) {\n      onNodeDragEnd(event, null, true);\n      window.removeEventListener('dragend', onWindowDragEnd);\n    };\n    var onNodeDragStart = function onNodeDragStart(event, node) {\n      var onDragstart = props.onDragstart;\n      var eventKey = node.eventKey,\n        eventData = node.eventData;\n      dragNode = node;\n      dragStartMousePosition = {\n        x: event.clientX,\n        y: event.clientY\n      };\n      var newExpandedKeys = arrDel(expandedKeys.value, eventKey);\n      dragState.draggingNodeKey = eventKey;\n      dragState.dragChildrenKeys = getDragChildrenKeys(eventKey, keyEntities.value);\n      indent.value = listRef.value.getIndentWidth();\n      setExpandedKeys(newExpandedKeys);\n      window.addEventListener('dragend', onWindowDragEnd);\n      if (onDragstart) {\n        onDragstart({\n          event: event,\n          node: eventData\n        });\n      }\n    };\n    /**\n     * [Legacy] Select handler is smaller than node,\n     * so that this will trigger when drag enter node or select handler.\n     * This is a little tricky if customize css without padding.\n     * Better for use mouse move event to refresh drag state.\n     * But let's just keep it to avoid event trigger logic change.\n     */\n    var onNodeDragEnter = function onNodeDragEnter(event, node) {\n      var onDragenter = props.onDragenter,\n        onExpand = props.onExpand,\n        allowDrop = props.allowDrop,\n        direction = props.direction;\n      var pos = node.pos,\n        eventKey = node.eventKey;\n      // record the key of node which is latest entered, used in dragleave event.\n      if (currentMouseOverDroppableNodeKey !== eventKey) {\n        currentMouseOverDroppableNodeKey = eventKey;\n      }\n      if (!dragNode) {\n        resetDragState();\n        return;\n      }\n      var _calcDropPosition = calcDropPosition(event, dragNode, node, indent.value, dragStartMousePosition, allowDrop, flattenNodes.value, keyEntities.value, expandedKeysSet.value, direction),\n        dropPosition = _calcDropPosition.dropPosition,\n        dropLevelOffset = _calcDropPosition.dropLevelOffset,\n        dropTargetKey = _calcDropPosition.dropTargetKey,\n        dropContainerKey = _calcDropPosition.dropContainerKey,\n        dropTargetPos = _calcDropPosition.dropTargetPos,\n        dropAllowed = _calcDropPosition.dropAllowed,\n        dragOverNodeKey = _calcDropPosition.dragOverNodeKey;\n      if (\n      // don't allow drop inside its children\n      dragState.dragChildrenKeys.indexOf(dropTargetKey) !== -1 ||\n      // don't allow drop when drop is not allowed caculated by calcDropPosition\n      !dropAllowed) {\n        resetDragState();\n        return;\n      }\n      // Side effect for delay drag\n      if (!delayedDragEnterLogic) {\n        delayedDragEnterLogic = {};\n      }\n      Object.keys(delayedDragEnterLogic).forEach(function (key) {\n        clearTimeout(delayedDragEnterLogic[key]);\n      });\n      if (dragNode.eventKey !== node.eventKey) {\n        // hoist expand logic here\n        // since if logic is on the bottom\n        // it will be blocked by abstract dragover node check\n        //   => if you dragenter from top, you mouse will still be consider as in the top node\n        delayedDragEnterLogic[pos] = window.setTimeout(function () {\n          if (dragState.draggingNodeKey === null) return;\n          var newExpandedKeys = expandedKeys.value.slice();\n          var entity = keyEntities.value[node.eventKey];\n          if (entity && (entity.children || []).length) {\n            newExpandedKeys = arrAdd(expandedKeys.value, node.eventKey);\n          }\n          setExpandedKeys(newExpandedKeys);\n          if (onExpand) {\n            onExpand(newExpandedKeys, {\n              node: node.eventData,\n              expanded: true,\n              nativeEvent: event\n            });\n          }\n        }, 800);\n      }\n      // Skip if drag node is self\n      if (dragNode.eventKey === dropTargetKey && dropLevelOffset === 0) {\n        resetDragState();\n        return;\n      }\n      // Update drag over node and drag state\n      _extends(dragState, {\n        dragOverNodeKey: dragOverNodeKey,\n        dropPosition: dropPosition,\n        dropLevelOffset: dropLevelOffset,\n        dropTargetKey: dropTargetKey,\n        dropContainerKey: dropContainerKey,\n        dropTargetPos: dropTargetPos,\n        dropAllowed: dropAllowed\n      });\n      if (onDragenter) {\n        onDragenter({\n          event: event,\n          node: node.eventData,\n          expandedKeys: expandedKeys.value\n        });\n      }\n    };\n    var onNodeDragOver = function onNodeDragOver(event, node) {\n      var onDragover = props.onDragover,\n        allowDrop = props.allowDrop,\n        direction = props.direction;\n      if (!dragNode) {\n        return;\n      }\n      var _calcDropPosition2 = calcDropPosition(event, dragNode, node, indent.value, dragStartMousePosition, allowDrop, flattenNodes.value, keyEntities.value, expandedKeysSet.value, direction),\n        dropPosition = _calcDropPosition2.dropPosition,\n        dropLevelOffset = _calcDropPosition2.dropLevelOffset,\n        dropTargetKey = _calcDropPosition2.dropTargetKey,\n        dropContainerKey = _calcDropPosition2.dropContainerKey,\n        dropAllowed = _calcDropPosition2.dropAllowed,\n        dropTargetPos = _calcDropPosition2.dropTargetPos,\n        dragOverNodeKey = _calcDropPosition2.dragOverNodeKey;\n      if (dragState.dragChildrenKeys.indexOf(dropTargetKey) !== -1 || !dropAllowed) {\n        // don't allow drop inside its children\n        // don't allow drop when drop is not allowed caculated by calcDropPosition\n        return;\n      }\n      // Update drag position\n      if (dragNode.eventKey === dropTargetKey && dropLevelOffset === 0) {\n        if (!(dragState.dropPosition === null && dragState.dropLevelOffset === null && dragState.dropTargetKey === null && dragState.dropContainerKey === null && dragState.dropTargetPos === null && dragState.dropAllowed === false && dragState.dragOverNodeKey === null)) {\n          resetDragState();\n        }\n      } else if (!(dropPosition === dragState.dropPosition && dropLevelOffset === dragState.dropLevelOffset && dropTargetKey === dragState.dropTargetKey && dropContainerKey === dragState.dropContainerKey && dropTargetPos === dragState.dropTargetPos && dropAllowed === dragState.dropAllowed && dragOverNodeKey === dragState.dragOverNodeKey)) {\n        _extends(dragState, {\n          dropPosition: dropPosition,\n          dropLevelOffset: dropLevelOffset,\n          dropTargetKey: dropTargetKey,\n          dropContainerKey: dropContainerKey,\n          dropTargetPos: dropTargetPos,\n          dropAllowed: dropAllowed,\n          dragOverNodeKey: dragOverNodeKey\n        });\n      }\n      if (onDragover) {\n        onDragover({\n          event: event,\n          node: node.eventData\n        });\n      }\n    };\n    var onNodeDragLeave = function onNodeDragLeave(event, node) {\n      // if it is outside the droppable area\n      // currentMouseOverDroppableNodeKey will be updated in dragenter event when into another droppable receiver.\n      if (currentMouseOverDroppableNodeKey === node.eventKey && !event.currentTarget.contains(event.relatedTarget)) {\n        resetDragState();\n        currentMouseOverDroppableNodeKey = null;\n      }\n      var onDragleave = props.onDragleave;\n      if (onDragleave) {\n        onDragleave({\n          event: event,\n          node: node.eventData\n        });\n      }\n    };\n    var onNodeDrop = function onNodeDrop(event, _node) {\n      var outsideTree = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var _a;\n      var dragChildrenKeys = dragState.dragChildrenKeys,\n        dropPosition = dragState.dropPosition,\n        dropTargetKey = dragState.dropTargetKey,\n        dropTargetPos = dragState.dropTargetPos,\n        dropAllowed = dragState.dropAllowed;\n      if (!dropAllowed) return;\n      var onDrop = props.onDrop;\n      dragState.dragOverNodeKey = null;\n      cleanDragState();\n      if (dropTargetKey === null) return;\n      var abstractDropNodeProps = _extends(_extends({}, getTreeNodeProps(dropTargetKey, toRaw(treeNodeRequiredProps.value))), {\n        active: ((_a = activeItem.value) === null || _a === void 0 ? void 0 : _a.key) === dropTargetKey,\n        data: keyEntities.value[dropTargetKey].node\n      });\n      var dropToChild = dragChildrenKeys.indexOf(dropTargetKey) !== -1;\n      warning(!dropToChild, \"Can not drop to dragNode's children node. Maybe this is a bug of ant-design-vue. Please report an issue.\");\n      var posArr = posToArr(dropTargetPos);\n      var dropResult = {\n        event: event,\n        node: convertNodePropsToEventData(abstractDropNodeProps),\n        dragNode: dragNode ? dragNode.eventData : null,\n        dragNodesKeys: [dragNode.eventKey].concat(dragChildrenKeys),\n        dropToGap: dropPosition !== 0,\n        dropPosition: dropPosition + Number(posArr[posArr.length - 1])\n      };\n      if (!outsideTree) {\n        onDrop === null || onDrop === void 0 ? void 0 : onDrop(dropResult);\n      }\n      dragNode = null;\n    };\n    var triggerExpandActionExpand = function triggerExpandActionExpand(e, treeNode) {\n      var expanded = treeNode.expanded,\n        key = treeNode.key;\n      var node = flattenNodes.value.filter(function (nodeItem) {\n        return nodeItem.key === key;\n      })[0];\n      var eventNode = convertNodePropsToEventData(_extends(_extends({}, getTreeNodeProps(key, treeNodeRequiredProps.value)), {\n        data: node.data\n      }));\n      setExpandedKeys(expanded ? arrDel(expandedKeys.value, key) : arrAdd(expandedKeys.value, key));\n      onNodeExpand(e, eventNode);\n    };\n    var onNodeClick = function onNodeClick(e, treeNode) {\n      var onClick = props.onClick,\n        expandAction = props.expandAction;\n      if (expandAction === 'click') {\n        triggerExpandActionExpand(e, treeNode);\n      }\n      if (onClick) {\n        onClick(e, treeNode);\n      }\n    };\n    var onNodeDoubleClick = function onNodeDoubleClick(e, treeNode) {\n      var onDblclick = props.onDblclick,\n        expandAction = props.expandAction;\n      if (expandAction === 'doubleclick' || expandAction === 'dblclick') {\n        triggerExpandActionExpand(e, treeNode);\n      }\n      if (onDblclick) {\n        onDblclick(e, treeNode);\n      }\n    };\n    var onNodeSelect = function onNodeSelect(e, treeNode) {\n      var newSelectedKeys = selectedKeys.value;\n      var onSelect = props.onSelect,\n        multiple = props.multiple;\n      var selected = treeNode.selected;\n      var key = treeNode[fieldNames.value.key];\n      var targetSelected = !selected;\n      // Update selected keys\n      if (!targetSelected) {\n        newSelectedKeys = arrDel(newSelectedKeys, key);\n      } else if (!multiple) {\n        newSelectedKeys = [key];\n      } else {\n        newSelectedKeys = arrAdd(newSelectedKeys, key);\n      }\n      // [Legacy] Not found related usage in doc or upper libs\n      var keyEntitiesValue = keyEntities.value;\n      var selectedNodes = newSelectedKeys.map(function (selectedKey) {\n        var entity = keyEntitiesValue[selectedKey];\n        if (!entity) return null;\n        return entity.node;\n      }).filter(function (node) {\n        return node;\n      });\n      if (props.selectedKeys === undefined) {\n        selectedKeys.value = newSelectedKeys;\n      }\n      if (onSelect) {\n        onSelect(newSelectedKeys, {\n          event: 'select',\n          selected: targetSelected,\n          node: treeNode,\n          selectedNodes: selectedNodes,\n          nativeEvent: e\n        });\n      }\n    };\n    var onNodeCheck = function onNodeCheck(e, treeNode, checked) {\n      var checkStrictly = props.checkStrictly,\n        onCheck = props.onCheck;\n      var key = treeNode[fieldNames.value.key];\n      // Prepare trigger arguments\n      var checkedObj;\n      var eventObj = {\n        event: 'check',\n        node: treeNode,\n        checked: checked,\n        nativeEvent: e\n      };\n      var keyEntitiesValue = keyEntities.value;\n      if (checkStrictly) {\n        var newCheckedKeys = checked ? arrAdd(checkedKeys.value, key) : arrDel(checkedKeys.value, key);\n        var newHalfCheckedKeys = arrDel(halfCheckedKeys.value, key);\n        checkedObj = {\n          checked: newCheckedKeys,\n          halfChecked: newHalfCheckedKeys\n        };\n        eventObj.checkedNodes = newCheckedKeys.map(function (checkedKey) {\n          return keyEntitiesValue[checkedKey];\n        }).filter(function (entity) {\n          return entity;\n        }).map(function (entity) {\n          return entity.node;\n        });\n        if (props.checkedKeys === undefined) {\n          checkedKeys.value = newCheckedKeys;\n        }\n      } else {\n        // Always fill first\n        var _conductCheck = conductCheck([].concat(_toConsumableArray(checkedKeys.value), [key]), true, keyEntitiesValue, maxLevel.value, levelEntities.value),\n          _newCheckedKeys = _conductCheck.checkedKeys,\n          _newHalfCheckedKeys = _conductCheck.halfCheckedKeys;\n        // If remove, we do it again to correction\n        if (!checked) {\n          var keySet = new Set(_newCheckedKeys);\n          keySet.delete(key);\n          var _conductCheck2 = conductCheck(Array.from(keySet), {\n            checked: false,\n            halfCheckedKeys: _newHalfCheckedKeys\n          }, keyEntitiesValue, maxLevel.value, levelEntities.value);\n          _newCheckedKeys = _conductCheck2.checkedKeys;\n          _newHalfCheckedKeys = _conductCheck2.halfCheckedKeys;\n        }\n        checkedObj = _newCheckedKeys;\n        // [Legacy] This is used for vc-tree-select`\n        eventObj.checkedNodes = [];\n        eventObj.checkedNodesPositions = [];\n        eventObj.halfCheckedKeys = _newHalfCheckedKeys;\n        _newCheckedKeys.forEach(function (checkedKey) {\n          var entity = keyEntitiesValue[checkedKey];\n          if (!entity) return;\n          var node = entity.node,\n            pos = entity.pos;\n          eventObj.checkedNodes.push(node);\n          eventObj.checkedNodesPositions.push({\n            node: node,\n            pos: pos\n          });\n        });\n        if (props.checkedKeys === undefined) {\n          checkedKeys.value = _newCheckedKeys;\n          halfCheckedKeys.value = _newHalfCheckedKeys;\n        }\n      }\n      if (onCheck) {\n        onCheck(checkedObj, eventObj);\n      }\n    };\n    var onNodeLoad = function onNodeLoad(treeNode) {\n      var key = treeNode[fieldNames.value.key];\n      var loadPromise = new Promise(function (resolve, reject) {\n        // We need to get the latest state of loading/loaded keys\n        var loadData = props.loadData,\n          onLoad = props.onLoad;\n        if (!loadData || loadedKeysSet.value.has(key) || loadingKeysSet.value.has(key)) {\n          return null;\n        }\n        // Process load data\n        var promise = loadData(treeNode);\n        promise.then(function () {\n          var newLoadedKeys = arrAdd(loadedKeys.value, key);\n          var newLoadingKeys = arrDel(loadingKeys.value, key);\n          // onLoad should trigger before internal setState to avoid `loadData` trigger twice.\n          // https://github.com/ant-design/ant-design/issues/12464\n          if (onLoad) {\n            onLoad(newLoadedKeys, {\n              event: 'load',\n              node: treeNode\n            });\n          }\n          if (props.loadedKeys === undefined) {\n            loadedKeys.value = newLoadedKeys;\n          }\n          loadingKeys.value = newLoadingKeys;\n          resolve();\n        }).catch(function (e) {\n          var newLoadingKeys = arrDel(loadingKeys.value, key);\n          loadingKeys.value = newLoadingKeys;\n          // If exceed max retry times, we give up retry\n          loadingRetryTimes[key] = (loadingRetryTimes[key] || 0) + 1;\n          if (loadingRetryTimes[key] >= MAX_RETRY_TIMES) {\n            warning(false, 'Retry for `loadData` many times but still failed. No more retry.');\n            var newLoadedKeys = arrAdd(loadedKeys.value, key);\n            if (props.loadedKeys === undefined) {\n              loadedKeys.value = newLoadedKeys;\n            }\n            resolve();\n          }\n          reject(e);\n        });\n        loadingKeys.value = arrAdd(loadingKeys.value, key);\n      });\n      // Not care warning if we ignore this\n      loadPromise.catch(function () {});\n      return loadPromise;\n    };\n    var onNodeMouseEnter = function onNodeMouseEnter(event, node) {\n      var onMouseenter = props.onMouseenter;\n      if (onMouseenter) {\n        onMouseenter({\n          event: event,\n          node: node\n        });\n      }\n    };\n    var onNodeMouseLeave = function onNodeMouseLeave(event, node) {\n      var onMouseleave = props.onMouseleave;\n      if (onMouseleave) {\n        onMouseleave({\n          event: event,\n          node: node\n        });\n      }\n    };\n    var onNodeContextMenu = function onNodeContextMenu(event, node) {\n      var onRightClick = props.onRightClick;\n      if (onRightClick) {\n        event.preventDefault();\n        onRightClick({\n          event: event,\n          node: node\n        });\n      }\n    };\n    var onFocus = function onFocus(e) {\n      var onFocus = props.onFocus;\n      focused.value = true;\n      if (onFocus) {\n        onFocus(e);\n      }\n    };\n    var onBlur = function onBlur(e) {\n      var onBlur = props.onBlur;\n      focused.value = false;\n      onActiveChange(null);\n      if (onBlur) {\n        onBlur(e);\n      }\n    };\n    var onNodeExpand = function onNodeExpand(e, treeNode) {\n      var newExpandedKeys = expandedKeys.value;\n      var onExpand = props.onExpand,\n        loadData = props.loadData;\n      var expanded = treeNode.expanded;\n      var key = treeNode[fieldNames.value.key];\n      // Do nothing when motion is in progress\n      if (listChanging.value) {\n        return;\n      }\n      // Update selected keys\n      var index = newExpandedKeys.indexOf(key);\n      var targetExpanded = !expanded;\n      warning(expanded && index !== -1 || !expanded && index === -1, 'Expand state not sync with index check');\n      if (targetExpanded) {\n        newExpandedKeys = arrAdd(newExpandedKeys, key);\n      } else {\n        newExpandedKeys = arrDel(newExpandedKeys, key);\n      }\n      setExpandedKeys(newExpandedKeys);\n      if (onExpand) {\n        onExpand(newExpandedKeys, {\n          node: treeNode,\n          expanded: targetExpanded,\n          nativeEvent: e\n        });\n      }\n      // Async Load data\n      if (targetExpanded && loadData) {\n        var loadPromise = onNodeLoad(treeNode);\n        if (loadPromise) {\n          loadPromise.then(function () {\n            // [Legacy] Refresh logic\n            // const newFlattenTreeData = flattenTreeData(\n            //   treeData.value,\n            //   newExpandedKeys,\n            //   fieldNames.value,\n            // );\n            // flattenNodes.value = newFlattenTreeData;\n          }).catch(function (e) {\n            var expandedKeysToRestore = arrDel(expandedKeys.value, key);\n            setExpandedKeys(expandedKeysToRestore);\n            Promise.reject(e);\n          });\n        }\n      }\n    };\n    var onListChangeStart = function onListChangeStart() {\n      listChanging.value = true;\n    };\n    var onListChangeEnd = function onListChangeEnd() {\n      setTimeout(function () {\n        listChanging.value = false;\n      });\n    };\n    // =========================== Keyboard ===========================\n    var onActiveChange = function onActiveChange(newActiveKey) {\n      var onActiveChange = props.onActiveChange;\n      if (activeKey.value === newActiveKey) {\n        return;\n      }\n      if (props.activeKey !== undefined) {\n        activeKey.value = newActiveKey;\n      }\n      if (newActiveKey !== null) {\n        scrollTo({\n          key: newActiveKey\n        });\n      }\n      if (onActiveChange) {\n        onActiveChange(newActiveKey);\n      }\n    };\n    var activeItem = computed(function () {\n      if (activeKey.value === null) {\n        return null;\n      }\n      return flattenNodes.value.find(function (_ref6) {\n        var key = _ref6.key;\n        return key === activeKey.value;\n      }) || null;\n    });\n    var offsetActiveKey = function offsetActiveKey(offset) {\n      var index = flattenNodes.value.findIndex(function (_ref7) {\n        var key = _ref7.key;\n        return key === activeKey.value;\n      });\n      // Align with index\n      if (index === -1 && offset < 0) {\n        index = flattenNodes.value.length;\n      }\n      index = (index + offset + flattenNodes.value.length) % flattenNodes.value.length;\n      var item = flattenNodes.value[index];\n      if (item) {\n        var key = item.key;\n        onActiveChange(key);\n      } else {\n        onActiveChange(null);\n      }\n    };\n    var activeItemEventNode = computed(function () {\n      return convertNodePropsToEventData(_extends(_extends({}, getTreeNodeProps(activeKey.value, treeNodeRequiredProps.value)), {\n        data: activeItem.value.data,\n        active: true\n      }));\n    });\n    var onKeydown = function onKeydown(event) {\n      var onKeydown = props.onKeydown,\n        checkable = props.checkable,\n        selectable = props.selectable;\n      // >>>>>>>>>> Direction\n      switch (event.which) {\n        case KeyCode.UP:\n          {\n            offsetActiveKey(-1);\n            event.preventDefault();\n            break;\n          }\n        case KeyCode.DOWN:\n          {\n            offsetActiveKey(1);\n            event.preventDefault();\n            break;\n          }\n      }\n      // >>>>>>>>>> Expand & Selection\n      var item = activeItem.value;\n      if (item && item.data) {\n        var expandable = item.data.isLeaf === false || !!(item.data.children || []).length;\n        var eventNode = activeItemEventNode.value;\n        switch (event.which) {\n          // >>> Expand\n          case KeyCode.LEFT:\n            {\n              // Collapse if possible\n              if (expandable && expandedKeysSet.value.has(activeKey.value)) {\n                onNodeExpand({}, eventNode);\n              } else if (item.parent) {\n                onActiveChange(item.parent.key);\n              }\n              event.preventDefault();\n              break;\n            }\n          case KeyCode.RIGHT:\n            {\n              // Expand if possible\n              if (expandable && !expandedKeysSet.value.has(activeKey.value)) {\n                onNodeExpand({}, eventNode);\n              } else if (item.children && item.children.length) {\n                onActiveChange(item.children[0].key);\n              }\n              event.preventDefault();\n              break;\n            }\n          // Selection\n          case KeyCode.ENTER:\n          case KeyCode.SPACE:\n            {\n              if (checkable && !eventNode.disabled && eventNode.checkable !== false && !eventNode.disableCheckbox) {\n                onNodeCheck({}, eventNode, !checkedKeysSet.value.has(activeKey.value));\n              } else if (!checkable && selectable && !eventNode.disabled && eventNode.selectable !== false) {\n                onNodeSelect({}, eventNode);\n              }\n              break;\n            }\n        }\n      }\n      if (onKeydown) {\n        onKeydown(event);\n      }\n    };\n    expose({\n      onNodeExpand: onNodeExpand,\n      scrollTo: scrollTo,\n      onKeydown: onKeydown,\n      selectedKeys: computed(function () {\n        return selectedKeys.value;\n      }),\n      checkedKeys: computed(function () {\n        return checkedKeys.value;\n      }),\n      halfCheckedKeys: computed(function () {\n        return halfCheckedKeys.value;\n      }),\n      loadedKeys: computed(function () {\n        return loadedKeys.value;\n      }),\n      loadingKeys: computed(function () {\n        return loadingKeys.value;\n      }),\n      expandedKeys: computed(function () {\n        return expandedKeys.value;\n      })\n    });\n    onUnmounted(function () {\n      window.removeEventListener('dragend', onWindowDragEnd);\n      destroyed.value = true;\n    });\n    useProvideKeysState({\n      expandedKeys: expandedKeys,\n      selectedKeys: selectedKeys,\n      loadedKeys: loadedKeys,\n      loadingKeys: loadingKeys,\n      checkedKeys: checkedKeys,\n      halfCheckedKeys: halfCheckedKeys,\n      expandedKeysSet: expandedKeysSet,\n      selectedKeysSet: selectedKeysSet,\n      loadedKeysSet: loadedKeysSet,\n      loadingKeysSet: loadingKeysSet,\n      checkedKeysSet: checkedKeysSet,\n      halfCheckedKeysSet: halfCheckedKeysSet,\n      flattenNodes: flattenNodes\n    });\n    return function () {\n      var _classNames;\n      var draggingNodeKey = dragState.draggingNodeKey,\n        dropLevelOffset = dragState.dropLevelOffset,\n        dropContainerKey = dragState.dropContainerKey,\n        dropTargetKey = dragState.dropTargetKey,\n        dropPosition = dragState.dropPosition,\n        dragOverNodeKey = dragState.dragOverNodeKey;\n      var prefixCls = props.prefixCls,\n        showLine = props.showLine,\n        focusable = props.focusable,\n        _props$tabindex = props.tabindex,\n        tabindex = _props$tabindex === void 0 ? 0 : _props$tabindex,\n        selectable = props.selectable,\n        showIcon = props.showIcon,\n        _props$icon = props.icon,\n        icon = _props$icon === void 0 ? slots.icon : _props$icon,\n        switcherIcon = props.switcherIcon,\n        draggable = props.draggable,\n        checkable = props.checkable,\n        checkStrictly = props.checkStrictly,\n        disabled = props.disabled,\n        motion = props.motion,\n        loadData = props.loadData,\n        filterTreeNode = props.filterTreeNode,\n        height = props.height,\n        itemHeight = props.itemHeight,\n        virtual = props.virtual,\n        dropIndicatorRender = props.dropIndicatorRender,\n        onContextmenu = props.onContextmenu,\n        onScroll = props.onScroll,\n        direction = props.direction,\n        rootClassName = props.rootClassName,\n        rootStyle = props.rootStyle;\n      var className = attrs.class,\n        style = attrs.style;\n      var domProps = pickAttrs(_extends(_extends({}, props), attrs), {\n        aria: true,\n        data: true\n      });\n      // It's better move to hooks but we just simply keep here\n      var draggableConfig;\n      if (draggable) {\n        if (_typeof(draggable) === 'object') {\n          draggableConfig = draggable;\n        } else if (typeof draggable === 'function') {\n          draggableConfig = {\n            nodeDraggable: draggable\n          };\n        } else {\n          draggableConfig = {};\n        }\n      } else {\n        draggableConfig = false;\n      }\n      return _createVNode(TreeContext, {\n        \"value\": {\n          prefixCls: prefixCls,\n          selectable: selectable,\n          showIcon: showIcon,\n          icon: icon,\n          switcherIcon: switcherIcon,\n          draggable: draggableConfig,\n          draggingNodeKey: draggingNodeKey,\n          checkable: checkable,\n          customCheckable: slots.checkable,\n          checkStrictly: checkStrictly,\n          disabled: disabled,\n          keyEntities: keyEntities.value,\n          dropLevelOffset: dropLevelOffset,\n          dropContainerKey: dropContainerKey,\n          dropTargetKey: dropTargetKey,\n          dropPosition: dropPosition,\n          dragOverNodeKey: dragOverNodeKey,\n          dragging: draggingNodeKey !== null,\n          indent: indent.value,\n          direction: direction,\n          dropIndicatorRender: dropIndicatorRender,\n          loadData: loadData,\n          filterTreeNode: filterTreeNode,\n          onNodeClick: onNodeClick,\n          onNodeDoubleClick: onNodeDoubleClick,\n          onNodeExpand: onNodeExpand,\n          onNodeSelect: onNodeSelect,\n          onNodeCheck: onNodeCheck,\n          onNodeLoad: onNodeLoad,\n          onNodeMouseEnter: onNodeMouseEnter,\n          onNodeMouseLeave: onNodeMouseLeave,\n          onNodeContextMenu: onNodeContextMenu,\n          onNodeDragStart: onNodeDragStart,\n          onNodeDragEnter: onNodeDragEnter,\n          onNodeDragOver: onNodeDragOver,\n          onNodeDragLeave: onNodeDragLeave,\n          onNodeDragEnd: onNodeDragEnd,\n          onNodeDrop: onNodeDrop,\n          slots: slots\n        }\n      }, {\n        default: function _default() {\n          return [_createVNode(\"div\", {\n            \"role\": \"tree\",\n            \"class\": classNames(prefixCls, className, rootClassName, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-show-line\"), showLine), _defineProperty(_classNames, \"\".concat(prefixCls, \"-focused\"), focused.value), _defineProperty(_classNames, \"\".concat(prefixCls, \"-active-focused\"), activeKey.value !== null), _classNames)),\n            \"style\": rootStyle\n          }, [_createVNode(NodeList, _objectSpread({\n            \"ref\": listRef,\n            \"prefixCls\": prefixCls,\n            \"style\": style,\n            \"disabled\": disabled,\n            \"selectable\": selectable,\n            \"checkable\": !!checkable,\n            \"motion\": motion,\n            \"height\": height,\n            \"itemHeight\": itemHeight,\n            \"virtual\": virtual,\n            \"focusable\": focusable,\n            \"focused\": focused.value,\n            \"tabindex\": tabindex,\n            \"activeItem\": activeItem.value,\n            \"onFocus\": onFocus,\n            \"onBlur\": onBlur,\n            \"onKeydown\": onKeydown,\n            \"onActiveChange\": onActiveChange,\n            \"onListChangeStart\": onListChangeStart,\n            \"onListChangeEnd\": onListChangeEnd,\n            \"onContextmenu\": onContextmenu,\n            \"onScroll\": onScroll\n          }, domProps), null)])];\n        }\n      });\n    };\n  }\n});","map":{"version":3,"names":["_objectSpread","_typeof","_toConsumableArray","_slicedToArray","_defineProperty","_extends","createVNode","_createVNode","useProvideKeysState","TreeContext","getDragChildrenKeys","parseCheckedKeys","conductExpandParent","calcSelectedKeys","calcDropPosition","arrAdd","arrDel","posToArr","flattenTreeData","convertTreeToData","convertDataToEntities","convertNodePropsToEventData","getTreeNodeProps","fillFieldNames","NodeList","MOTION_KEY","MotionEntity","conductCheck","DropIndicator","computed","defineComponent","onUnmounted","reactive","shallowRef","watch","watchEffect","nextTick","toRaw","initDefaultProps","treeProps","warning","KeyCode","classNames","pickAttrs","useMaxLevel","MAX_RETRY_TIMES","compatConfig","MODE","name","inheritAttrs","slots","props","prefixCls","showLine","showIcon","selectable","multiple","checkable","disabled","checkStrictly","draggable","expandAction","defaultExpandParent","autoExpandParent","defaultExpandAll","defaultExpandedKeys","defaultCheckedKeys","defaultSelectedKeys","dropIndicatorRender","allowDrop","setup","_ref","attrs","expose","destroyed","delayedDragEnterLogic","indent","selectedKeys","checkedKeys","halfCheckedKeys","loadedKeys","loadingKeys","expandedKeys","loadingRetryTimes","dragState","draggingNodeKey","dragChildrenKeys","dropTargetKey","dropPosition","dropContainerKey","dropLevelOffset","dropTargetPos","dropAllowed","dragOverNodeKey","treeData","children","value","undefined","slice","immediate","deep","keyEntities","focused","activeKey","listChanging","fieldNames","listRef","dragStartMousePosition","dragNode","currentMouseOverDroppableNodeKey","treeNodeRequiredProps","expandedKeysSet","selectedKeysSet","loadedKeysSet","loadingKeysSet","checkedKeysSet","halfCheckedKeysSet","Set","entitiesMap","init","_ref2","_ref3","_ref4","_newKeys","newAutoExpandParent","_ref5","_oldKeys","oldAutoExpandParent","keys","cloneKeyEntities","Object","map","key","flattenNodes","_useMaxLevel","maxLevel","levelEntities","checkedKeyEntity","_checkedKeyEntity","_checkedKeyEntity$che","newCheckedKeys","_checkedKeyEntity$hal","newHalfCheckedKeys","conductKeys","resetDragState","scrollTo","scroll","val","flush","setExpandedKeys","cleanDragState","onNodeDragEnd","event","node","onDragend","eventData","onWindowDragEnd","window","removeEventListener","onNodeDragStart","onDragstart","eventKey","x","clientX","y","clientY","newExpandedKeys","getIndentWidth","addEventListener","onNodeDragEnter","onDragenter","onExpand","direction","pos","_calcDropPosition","indexOf","forEach","clearTimeout","setTimeout","entity","length","expanded","nativeEvent","onNodeDragOver","onDragover","_calcDropPosition2","onNodeDragLeave","currentTarget","contains","relatedTarget","onDragleave","onNodeDrop","_node","outsideTree","arguments","_a","onDrop","abstractDropNodeProps","active","activeItem","data","dropToChild","posArr","dropResult","dragNodesKeys","concat","dropToGap","Number","triggerExpandActionExpand","e","treeNode","filter","nodeItem","eventNode","onNodeExpand","onNodeClick","onClick","onNodeDoubleClick","onDblclick","onNodeSelect","newSelectedKeys","onSelect","selected","targetSelected","keyEntitiesValue","selectedNodes","selectedKey","onNodeCheck","checked","onCheck","checkedObj","eventObj","halfChecked","checkedNodes","checkedKey","_conductCheck","_newCheckedKeys","_newHalfCheckedKeys","keySet","delete","_conductCheck2","Array","from","checkedNodesPositions","push","onNodeLoad","loadPromise","Promise","resolve","reject","loadData","onLoad","has","promise","then","newLoadedKeys","newLoadingKeys","catch","onNodeMouseEnter","onMouseenter","onNodeMouseLeave","onMouseleave","onNodeContextMenu","onRightClick","preventDefault","onFocus","onBlur","onActiveChange","index","targetExpanded","expandedKeysToRestore","onListChangeStart","onListChangeEnd","newActiveKey","find","_ref6","offsetActiveKey","offset","findIndex","_ref7","item","activeItemEventNode","onKeydown","which","UP","DOWN","expandable","isLeaf","LEFT","parent","RIGHT","ENTER","SPACE","disableCheckbox","_classNames","focusable","_props$tabindex","tabindex","_props$icon","icon","switcherIcon","motion","filterTreeNode","height","itemHeight","virtual","onContextmenu","onScroll","rootClassName","rootStyle","className","class","style","domProps","aria","draggableConfig","nodeDraggable","customCheckable","dragging","default","_default"],"sources":["D:/Desktop/Code/CcAgSearch/ccso-frontend/node_modules/ant-design-vue/es/vc-tree/Tree.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { useProvideKeysState, TreeContext } from './contextTypes';\nimport { getDragChildrenKeys, parseCheckedKeys, conductExpandParent, calcSelectedKeys, calcDropPosition, arrAdd, arrDel, posToArr } from './util';\nimport { flattenTreeData, convertTreeToData, convertDataToEntities, convertNodePropsToEventData, getTreeNodeProps, fillFieldNames } from './utils/treeUtil';\nimport NodeList, { MOTION_KEY, MotionEntity } from './NodeList';\nimport { conductCheck } from './utils/conductUtil';\nimport DropIndicator from './DropIndicator';\nimport { computed, defineComponent, onUnmounted, reactive, shallowRef, watch, watchEffect, nextTick, toRaw } from 'vue';\nimport initDefaultProps from '../_util/props-util/initDefaultProps';\nimport { treeProps } from './props';\nimport { warning } from '../vc-util/warning';\nimport KeyCode from '../_util/KeyCode';\nimport classNames from '../_util/classNames';\nimport pickAttrs from '../_util/pickAttrs';\nimport useMaxLevel from './useMaxLevel';\nvar MAX_RETRY_TIMES = 10;\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'Tree',\n  inheritAttrs: false,\n  slots: ['checkable', 'title', 'icon', 'titleRender'],\n  props: initDefaultProps(treeProps(), {\n    prefixCls: 'vc-tree',\n    showLine: false,\n    showIcon: true,\n    selectable: true,\n    multiple: false,\n    checkable: false,\n    disabled: false,\n    checkStrictly: false,\n    draggable: false,\n    expandAction: false,\n    defaultExpandParent: true,\n    autoExpandParent: false,\n    defaultExpandAll: false,\n    defaultExpandedKeys: [],\n    defaultCheckedKeys: [],\n    defaultSelectedKeys: [],\n    dropIndicatorRender: DropIndicator,\n    allowDrop: function allowDrop() {\n      return true;\n    }\n  }),\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n      slots = _ref.slots,\n      expose = _ref.expose;\n    var destroyed = shallowRef(false);\n    var delayedDragEnterLogic = {};\n    var indent = shallowRef();\n    var selectedKeys = shallowRef([]);\n    var checkedKeys = shallowRef([]);\n    var halfCheckedKeys = shallowRef([]);\n    var loadedKeys = shallowRef([]);\n    var loadingKeys = shallowRef([]);\n    var expandedKeys = shallowRef([]);\n    var loadingRetryTimes = {};\n    var dragState = reactive({\n      draggingNodeKey: null,\n      dragChildrenKeys: [],\n      // dropTargetKey is the key of abstract-drop-node\n      // the abstract-drop-node is the real drop node when drag and drop\n      // not the DOM drag over node\n      dropTargetKey: null,\n      dropPosition: null,\n      dropContainerKey: null,\n      dropLevelOffset: null,\n      dropTargetPos: null,\n      dropAllowed: true,\n      // the abstract-drag-over-node\n      // if mouse is on the bottom of top dom node or no the top of the bottom dom node\n      // abstract-drag-over-node is the top node\n      dragOverNodeKey: null\n    });\n    var treeData = shallowRef([]);\n    watch([function () {\n      return props.treeData;\n    }, function () {\n      return props.children;\n    }], function () {\n      treeData.value = props.treeData !== undefined ? toRaw(props.treeData).slice() : convertTreeToData(toRaw(props.children));\n    }, {\n      immediate: true,\n      deep: true\n    });\n    var keyEntities = shallowRef({});\n    var focused = shallowRef(false);\n    var activeKey = shallowRef(null);\n    var listChanging = shallowRef(false);\n    var fieldNames = computed(function () {\n      return fillFieldNames(props.fieldNames);\n    });\n    var listRef = shallowRef();\n    var dragStartMousePosition = null;\n    var dragNode = null;\n    var currentMouseOverDroppableNodeKey = null;\n    var treeNodeRequiredProps = computed(function () {\n      return {\n        expandedKeysSet: expandedKeysSet.value,\n        selectedKeysSet: selectedKeysSet.value,\n        loadedKeysSet: loadedKeysSet.value,\n        loadingKeysSet: loadingKeysSet.value,\n        checkedKeysSet: checkedKeysSet.value,\n        halfCheckedKeysSet: halfCheckedKeysSet.value,\n        dragOverNodeKey: dragState.dragOverNodeKey,\n        dropPosition: dragState.dropPosition,\n        keyEntities: keyEntities.value\n      };\n    });\n    var expandedKeysSet = computed(function () {\n      return new Set(expandedKeys.value);\n    });\n    var selectedKeysSet = computed(function () {\n      return new Set(selectedKeys.value);\n    });\n    var loadedKeysSet = computed(function () {\n      return new Set(loadedKeys.value);\n    });\n    var loadingKeysSet = computed(function () {\n      return new Set(loadingKeys.value);\n    });\n    var checkedKeysSet = computed(function () {\n      return new Set(checkedKeys.value);\n    });\n    var halfCheckedKeysSet = computed(function () {\n      return new Set(halfCheckedKeys.value);\n    });\n    watchEffect(function () {\n      if (treeData.value) {\n        var entitiesMap = convertDataToEntities(treeData.value, {\n          fieldNames: fieldNames.value\n        });\n        keyEntities.value = _extends(_defineProperty({}, MOTION_KEY, MotionEntity), entitiesMap.keyEntities);\n      }\n    });\n    var init = false; // 处理 defaultXxxx api, 仅仅首次有效\n    watch([function () {\n      return props.expandedKeys;\n    }, function () {\n      return props.autoExpandParent;\n    }, keyEntities],\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    function (_ref2, _ref3) {\n      var _ref4 = _slicedToArray(_ref2, 2),\n        _newKeys = _ref4[0],\n        newAutoExpandParent = _ref4[1];\n      var _ref5 = _slicedToArray(_ref3, 2),\n        _oldKeys = _ref5[0],\n        oldAutoExpandParent = _ref5[1];\n      var keys = expandedKeys.value;\n      // ================ expandedKeys =================\n      if (props.expandedKeys !== undefined || init && newAutoExpandParent !== oldAutoExpandParent) {\n        keys = props.autoExpandParent || !init && props.defaultExpandParent ? conductExpandParent(props.expandedKeys, keyEntities.value) : props.expandedKeys;\n      } else if (!init && props.defaultExpandAll) {\n        var cloneKeyEntities = _extends({}, keyEntities.value);\n        delete cloneKeyEntities[MOTION_KEY];\n        keys = Object.keys(cloneKeyEntities).map(function (key) {\n          return cloneKeyEntities[key].key;\n        });\n      } else if (!init && props.defaultExpandedKeys) {\n        keys = props.autoExpandParent || props.defaultExpandParent ? conductExpandParent(props.defaultExpandedKeys, keyEntities.value) : props.defaultExpandedKeys;\n      }\n      if (keys) {\n        expandedKeys.value = keys;\n      }\n      init = true;\n    }, {\n      immediate: true\n    });\n    // ================ flattenNodes =================\n    var flattenNodes = shallowRef([]);\n    watchEffect(function () {\n      flattenNodes.value = flattenTreeData(treeData.value, expandedKeys.value, fieldNames.value);\n    });\n    // ================ selectedKeys =================\n    watchEffect(function () {\n      if (props.selectable) {\n        if (props.selectedKeys !== undefined) {\n          selectedKeys.value = calcSelectedKeys(props.selectedKeys, props);\n        } else if (!init && props.defaultSelectedKeys) {\n          selectedKeys.value = calcSelectedKeys(props.defaultSelectedKeys, props);\n        }\n      }\n    });\n    var _useMaxLevel = useMaxLevel(keyEntities),\n      maxLevel = _useMaxLevel.maxLevel,\n      levelEntities = _useMaxLevel.levelEntities;\n    // ================= checkedKeys =================\n    watchEffect(function () {\n      if (props.checkable) {\n        var checkedKeyEntity;\n        if (props.checkedKeys !== undefined) {\n          checkedKeyEntity = parseCheckedKeys(props.checkedKeys) || {};\n        } else if (!init && props.defaultCheckedKeys) {\n          checkedKeyEntity = parseCheckedKeys(props.defaultCheckedKeys) || {};\n        } else if (treeData.value) {\n          // If `treeData` changed, we also need check it\n          checkedKeyEntity = parseCheckedKeys(props.checkedKeys) || {\n            checkedKeys: checkedKeys.value,\n            halfCheckedKeys: halfCheckedKeys.value\n          };\n        }\n        if (checkedKeyEntity) {\n          var _checkedKeyEntity = checkedKeyEntity,\n            _checkedKeyEntity$che = _checkedKeyEntity.checkedKeys,\n            newCheckedKeys = _checkedKeyEntity$che === void 0 ? [] : _checkedKeyEntity$che,\n            _checkedKeyEntity$hal = _checkedKeyEntity.halfCheckedKeys,\n            newHalfCheckedKeys = _checkedKeyEntity$hal === void 0 ? [] : _checkedKeyEntity$hal;\n          if (!props.checkStrictly) {\n            var conductKeys = conductCheck(newCheckedKeys, true, keyEntities.value, maxLevel.value, levelEntities.value);\n            newCheckedKeys = conductKeys.checkedKeys;\n            newHalfCheckedKeys = conductKeys.halfCheckedKeys;\n          }\n          checkedKeys.value = newCheckedKeys;\n          halfCheckedKeys.value = newHalfCheckedKeys;\n        }\n      }\n    });\n    // ================= loadedKeys ==================\n    watchEffect(function () {\n      if (props.loadedKeys) {\n        loadedKeys.value = props.loadedKeys;\n      }\n    });\n    var resetDragState = function resetDragState() {\n      _extends(dragState, {\n        dragOverNodeKey: null,\n        dropPosition: null,\n        dropLevelOffset: null,\n        dropTargetKey: null,\n        dropContainerKey: null,\n        dropTargetPos: null,\n        dropAllowed: false\n      });\n    };\n    var scrollTo = function scrollTo(scroll) {\n      listRef.value.scrollTo(scroll);\n    };\n    watch(function () {\n      return props.activeKey;\n    }, function () {\n      if (props.activeKey !== undefined) {\n        activeKey.value = props.activeKey;\n      }\n    }, {\n      immediate: true\n    });\n    watch(activeKey, function (val) {\n      nextTick(function () {\n        if (val !== null) {\n          scrollTo({\n            key: val\n          });\n        }\n      });\n    }, {\n      immediate: true,\n      flush: 'post'\n    });\n    // =========================== Expanded ===========================\n    /** Set uncontrolled `expandedKeys`. This will also auto update `flattenNodes`. */\n    var setExpandedKeys = function setExpandedKeys(keys) {\n      if (props.expandedKeys === undefined) {\n        expandedKeys.value = keys;\n      }\n    };\n    var cleanDragState = function cleanDragState() {\n      if (dragState.draggingNodeKey !== null) {\n        _extends(dragState, {\n          draggingNodeKey: null,\n          dropPosition: null,\n          dropContainerKey: null,\n          dropTargetKey: null,\n          dropLevelOffset: null,\n          dropAllowed: true,\n          dragOverNodeKey: null\n        });\n      }\n      dragStartMousePosition = null;\n      currentMouseOverDroppableNodeKey = null;\n    };\n    // if onNodeDragEnd is called, onWindowDragEnd won't be called since stopPropagation() is called\n    var onNodeDragEnd = function onNodeDragEnd(event, node) {\n      var onDragend = props.onDragend;\n      dragState.dragOverNodeKey = null;\n      cleanDragState();\n      onDragend === null || onDragend === void 0 ? void 0 : onDragend({\n        event: event,\n        node: node.eventData\n      });\n      dragNode = null;\n    };\n    // since stopPropagation() is called in treeNode\n    // if onWindowDrag is called, whice means state is keeped, drag state should be cleared\n    var onWindowDragEnd = function onWindowDragEnd(event) {\n      onNodeDragEnd(event, null, true);\n      window.removeEventListener('dragend', onWindowDragEnd);\n    };\n    var onNodeDragStart = function onNodeDragStart(event, node) {\n      var onDragstart = props.onDragstart;\n      var eventKey = node.eventKey,\n        eventData = node.eventData;\n      dragNode = node;\n      dragStartMousePosition = {\n        x: event.clientX,\n        y: event.clientY\n      };\n      var newExpandedKeys = arrDel(expandedKeys.value, eventKey);\n      dragState.draggingNodeKey = eventKey;\n      dragState.dragChildrenKeys = getDragChildrenKeys(eventKey, keyEntities.value);\n      indent.value = listRef.value.getIndentWidth();\n      setExpandedKeys(newExpandedKeys);\n      window.addEventListener('dragend', onWindowDragEnd);\n      if (onDragstart) {\n        onDragstart({\n          event: event,\n          node: eventData\n        });\n      }\n    };\n    /**\n     * [Legacy] Select handler is smaller than node,\n     * so that this will trigger when drag enter node or select handler.\n     * This is a little tricky if customize css without padding.\n     * Better for use mouse move event to refresh drag state.\n     * But let's just keep it to avoid event trigger logic change.\n     */\n    var onNodeDragEnter = function onNodeDragEnter(event, node) {\n      var onDragenter = props.onDragenter,\n        onExpand = props.onExpand,\n        allowDrop = props.allowDrop,\n        direction = props.direction;\n      var pos = node.pos,\n        eventKey = node.eventKey;\n      // record the key of node which is latest entered, used in dragleave event.\n      if (currentMouseOverDroppableNodeKey !== eventKey) {\n        currentMouseOverDroppableNodeKey = eventKey;\n      }\n      if (!dragNode) {\n        resetDragState();\n        return;\n      }\n      var _calcDropPosition = calcDropPosition(event, dragNode, node, indent.value, dragStartMousePosition, allowDrop, flattenNodes.value, keyEntities.value, expandedKeysSet.value, direction),\n        dropPosition = _calcDropPosition.dropPosition,\n        dropLevelOffset = _calcDropPosition.dropLevelOffset,\n        dropTargetKey = _calcDropPosition.dropTargetKey,\n        dropContainerKey = _calcDropPosition.dropContainerKey,\n        dropTargetPos = _calcDropPosition.dropTargetPos,\n        dropAllowed = _calcDropPosition.dropAllowed,\n        dragOverNodeKey = _calcDropPosition.dragOverNodeKey;\n      if (\n      // don't allow drop inside its children\n      dragState.dragChildrenKeys.indexOf(dropTargetKey) !== -1 ||\n      // don't allow drop when drop is not allowed caculated by calcDropPosition\n      !dropAllowed) {\n        resetDragState();\n        return;\n      }\n      // Side effect for delay drag\n      if (!delayedDragEnterLogic) {\n        delayedDragEnterLogic = {};\n      }\n      Object.keys(delayedDragEnterLogic).forEach(function (key) {\n        clearTimeout(delayedDragEnterLogic[key]);\n      });\n      if (dragNode.eventKey !== node.eventKey) {\n        // hoist expand logic here\n        // since if logic is on the bottom\n        // it will be blocked by abstract dragover node check\n        //   => if you dragenter from top, you mouse will still be consider as in the top node\n        delayedDragEnterLogic[pos] = window.setTimeout(function () {\n          if (dragState.draggingNodeKey === null) return;\n          var newExpandedKeys = expandedKeys.value.slice();\n          var entity = keyEntities.value[node.eventKey];\n          if (entity && (entity.children || []).length) {\n            newExpandedKeys = arrAdd(expandedKeys.value, node.eventKey);\n          }\n          setExpandedKeys(newExpandedKeys);\n          if (onExpand) {\n            onExpand(newExpandedKeys, {\n              node: node.eventData,\n              expanded: true,\n              nativeEvent: event\n            });\n          }\n        }, 800);\n      }\n      // Skip if drag node is self\n      if (dragNode.eventKey === dropTargetKey && dropLevelOffset === 0) {\n        resetDragState();\n        return;\n      }\n      // Update drag over node and drag state\n      _extends(dragState, {\n        dragOverNodeKey: dragOverNodeKey,\n        dropPosition: dropPosition,\n        dropLevelOffset: dropLevelOffset,\n        dropTargetKey: dropTargetKey,\n        dropContainerKey: dropContainerKey,\n        dropTargetPos: dropTargetPos,\n        dropAllowed: dropAllowed\n      });\n      if (onDragenter) {\n        onDragenter({\n          event: event,\n          node: node.eventData,\n          expandedKeys: expandedKeys.value\n        });\n      }\n    };\n    var onNodeDragOver = function onNodeDragOver(event, node) {\n      var onDragover = props.onDragover,\n        allowDrop = props.allowDrop,\n        direction = props.direction;\n      if (!dragNode) {\n        return;\n      }\n      var _calcDropPosition2 = calcDropPosition(event, dragNode, node, indent.value, dragStartMousePosition, allowDrop, flattenNodes.value, keyEntities.value, expandedKeysSet.value, direction),\n        dropPosition = _calcDropPosition2.dropPosition,\n        dropLevelOffset = _calcDropPosition2.dropLevelOffset,\n        dropTargetKey = _calcDropPosition2.dropTargetKey,\n        dropContainerKey = _calcDropPosition2.dropContainerKey,\n        dropAllowed = _calcDropPosition2.dropAllowed,\n        dropTargetPos = _calcDropPosition2.dropTargetPos,\n        dragOverNodeKey = _calcDropPosition2.dragOverNodeKey;\n      if (dragState.dragChildrenKeys.indexOf(dropTargetKey) !== -1 || !dropAllowed) {\n        // don't allow drop inside its children\n        // don't allow drop when drop is not allowed caculated by calcDropPosition\n        return;\n      }\n      // Update drag position\n      if (dragNode.eventKey === dropTargetKey && dropLevelOffset === 0) {\n        if (!(dragState.dropPosition === null && dragState.dropLevelOffset === null && dragState.dropTargetKey === null && dragState.dropContainerKey === null && dragState.dropTargetPos === null && dragState.dropAllowed === false && dragState.dragOverNodeKey === null)) {\n          resetDragState();\n        }\n      } else if (!(dropPosition === dragState.dropPosition && dropLevelOffset === dragState.dropLevelOffset && dropTargetKey === dragState.dropTargetKey && dropContainerKey === dragState.dropContainerKey && dropTargetPos === dragState.dropTargetPos && dropAllowed === dragState.dropAllowed && dragOverNodeKey === dragState.dragOverNodeKey)) {\n        _extends(dragState, {\n          dropPosition: dropPosition,\n          dropLevelOffset: dropLevelOffset,\n          dropTargetKey: dropTargetKey,\n          dropContainerKey: dropContainerKey,\n          dropTargetPos: dropTargetPos,\n          dropAllowed: dropAllowed,\n          dragOverNodeKey: dragOverNodeKey\n        });\n      }\n      if (onDragover) {\n        onDragover({\n          event: event,\n          node: node.eventData\n        });\n      }\n    };\n    var onNodeDragLeave = function onNodeDragLeave(event, node) {\n      // if it is outside the droppable area\n      // currentMouseOverDroppableNodeKey will be updated in dragenter event when into another droppable receiver.\n      if (currentMouseOverDroppableNodeKey === node.eventKey && !event.currentTarget.contains(event.relatedTarget)) {\n        resetDragState();\n        currentMouseOverDroppableNodeKey = null;\n      }\n      var onDragleave = props.onDragleave;\n      if (onDragleave) {\n        onDragleave({\n          event: event,\n          node: node.eventData\n        });\n      }\n    };\n    var onNodeDrop = function onNodeDrop(event, _node) {\n      var outsideTree = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var _a;\n      var dragChildrenKeys = dragState.dragChildrenKeys,\n        dropPosition = dragState.dropPosition,\n        dropTargetKey = dragState.dropTargetKey,\n        dropTargetPos = dragState.dropTargetPos,\n        dropAllowed = dragState.dropAllowed;\n      if (!dropAllowed) return;\n      var onDrop = props.onDrop;\n      dragState.dragOverNodeKey = null;\n      cleanDragState();\n      if (dropTargetKey === null) return;\n      var abstractDropNodeProps = _extends(_extends({}, getTreeNodeProps(dropTargetKey, toRaw(treeNodeRequiredProps.value))), {\n        active: ((_a = activeItem.value) === null || _a === void 0 ? void 0 : _a.key) === dropTargetKey,\n        data: keyEntities.value[dropTargetKey].node\n      });\n      var dropToChild = dragChildrenKeys.indexOf(dropTargetKey) !== -1;\n      warning(!dropToChild, \"Can not drop to dragNode's children node. Maybe this is a bug of ant-design-vue. Please report an issue.\");\n      var posArr = posToArr(dropTargetPos);\n      var dropResult = {\n        event: event,\n        node: convertNodePropsToEventData(abstractDropNodeProps),\n        dragNode: dragNode ? dragNode.eventData : null,\n        dragNodesKeys: [dragNode.eventKey].concat(dragChildrenKeys),\n        dropToGap: dropPosition !== 0,\n        dropPosition: dropPosition + Number(posArr[posArr.length - 1])\n      };\n      if (!outsideTree) {\n        onDrop === null || onDrop === void 0 ? void 0 : onDrop(dropResult);\n      }\n      dragNode = null;\n    };\n    var triggerExpandActionExpand = function triggerExpandActionExpand(e, treeNode) {\n      var expanded = treeNode.expanded,\n        key = treeNode.key;\n      var node = flattenNodes.value.filter(function (nodeItem) {\n        return nodeItem.key === key;\n      })[0];\n      var eventNode = convertNodePropsToEventData(_extends(_extends({}, getTreeNodeProps(key, treeNodeRequiredProps.value)), {\n        data: node.data\n      }));\n      setExpandedKeys(expanded ? arrDel(expandedKeys.value, key) : arrAdd(expandedKeys.value, key));\n      onNodeExpand(e, eventNode);\n    };\n    var onNodeClick = function onNodeClick(e, treeNode) {\n      var onClick = props.onClick,\n        expandAction = props.expandAction;\n      if (expandAction === 'click') {\n        triggerExpandActionExpand(e, treeNode);\n      }\n      if (onClick) {\n        onClick(e, treeNode);\n      }\n    };\n    var onNodeDoubleClick = function onNodeDoubleClick(e, treeNode) {\n      var onDblclick = props.onDblclick,\n        expandAction = props.expandAction;\n      if (expandAction === 'doubleclick' || expandAction === 'dblclick') {\n        triggerExpandActionExpand(e, treeNode);\n      }\n      if (onDblclick) {\n        onDblclick(e, treeNode);\n      }\n    };\n    var onNodeSelect = function onNodeSelect(e, treeNode) {\n      var newSelectedKeys = selectedKeys.value;\n      var onSelect = props.onSelect,\n        multiple = props.multiple;\n      var selected = treeNode.selected;\n      var key = treeNode[fieldNames.value.key];\n      var targetSelected = !selected;\n      // Update selected keys\n      if (!targetSelected) {\n        newSelectedKeys = arrDel(newSelectedKeys, key);\n      } else if (!multiple) {\n        newSelectedKeys = [key];\n      } else {\n        newSelectedKeys = arrAdd(newSelectedKeys, key);\n      }\n      // [Legacy] Not found related usage in doc or upper libs\n      var keyEntitiesValue = keyEntities.value;\n      var selectedNodes = newSelectedKeys.map(function (selectedKey) {\n        var entity = keyEntitiesValue[selectedKey];\n        if (!entity) return null;\n        return entity.node;\n      }).filter(function (node) {\n        return node;\n      });\n      if (props.selectedKeys === undefined) {\n        selectedKeys.value = newSelectedKeys;\n      }\n      if (onSelect) {\n        onSelect(newSelectedKeys, {\n          event: 'select',\n          selected: targetSelected,\n          node: treeNode,\n          selectedNodes: selectedNodes,\n          nativeEvent: e\n        });\n      }\n    };\n    var onNodeCheck = function onNodeCheck(e, treeNode, checked) {\n      var checkStrictly = props.checkStrictly,\n        onCheck = props.onCheck;\n      var key = treeNode[fieldNames.value.key];\n      // Prepare trigger arguments\n      var checkedObj;\n      var eventObj = {\n        event: 'check',\n        node: treeNode,\n        checked: checked,\n        nativeEvent: e\n      };\n      var keyEntitiesValue = keyEntities.value;\n      if (checkStrictly) {\n        var newCheckedKeys = checked ? arrAdd(checkedKeys.value, key) : arrDel(checkedKeys.value, key);\n        var newHalfCheckedKeys = arrDel(halfCheckedKeys.value, key);\n        checkedObj = {\n          checked: newCheckedKeys,\n          halfChecked: newHalfCheckedKeys\n        };\n        eventObj.checkedNodes = newCheckedKeys.map(function (checkedKey) {\n          return keyEntitiesValue[checkedKey];\n        }).filter(function (entity) {\n          return entity;\n        }).map(function (entity) {\n          return entity.node;\n        });\n        if (props.checkedKeys === undefined) {\n          checkedKeys.value = newCheckedKeys;\n        }\n      } else {\n        // Always fill first\n        var _conductCheck = conductCheck([].concat(_toConsumableArray(checkedKeys.value), [key]), true, keyEntitiesValue, maxLevel.value, levelEntities.value),\n          _newCheckedKeys = _conductCheck.checkedKeys,\n          _newHalfCheckedKeys = _conductCheck.halfCheckedKeys;\n        // If remove, we do it again to correction\n        if (!checked) {\n          var keySet = new Set(_newCheckedKeys);\n          keySet.delete(key);\n          var _conductCheck2 = conductCheck(Array.from(keySet), {\n            checked: false,\n            halfCheckedKeys: _newHalfCheckedKeys\n          }, keyEntitiesValue, maxLevel.value, levelEntities.value);\n          _newCheckedKeys = _conductCheck2.checkedKeys;\n          _newHalfCheckedKeys = _conductCheck2.halfCheckedKeys;\n        }\n        checkedObj = _newCheckedKeys;\n        // [Legacy] This is used for vc-tree-select`\n        eventObj.checkedNodes = [];\n        eventObj.checkedNodesPositions = [];\n        eventObj.halfCheckedKeys = _newHalfCheckedKeys;\n        _newCheckedKeys.forEach(function (checkedKey) {\n          var entity = keyEntitiesValue[checkedKey];\n          if (!entity) return;\n          var node = entity.node,\n            pos = entity.pos;\n          eventObj.checkedNodes.push(node);\n          eventObj.checkedNodesPositions.push({\n            node: node,\n            pos: pos\n          });\n        });\n        if (props.checkedKeys === undefined) {\n          checkedKeys.value = _newCheckedKeys;\n          halfCheckedKeys.value = _newHalfCheckedKeys;\n        }\n      }\n      if (onCheck) {\n        onCheck(checkedObj, eventObj);\n      }\n    };\n    var onNodeLoad = function onNodeLoad(treeNode) {\n      var key = treeNode[fieldNames.value.key];\n      var loadPromise = new Promise(function (resolve, reject) {\n        // We need to get the latest state of loading/loaded keys\n        var loadData = props.loadData,\n          onLoad = props.onLoad;\n        if (!loadData || loadedKeysSet.value.has(key) || loadingKeysSet.value.has(key)) {\n          return null;\n        }\n        // Process load data\n        var promise = loadData(treeNode);\n        promise.then(function () {\n          var newLoadedKeys = arrAdd(loadedKeys.value, key);\n          var newLoadingKeys = arrDel(loadingKeys.value, key);\n          // onLoad should trigger before internal setState to avoid `loadData` trigger twice.\n          // https://github.com/ant-design/ant-design/issues/12464\n          if (onLoad) {\n            onLoad(newLoadedKeys, {\n              event: 'load',\n              node: treeNode\n            });\n          }\n          if (props.loadedKeys === undefined) {\n            loadedKeys.value = newLoadedKeys;\n          }\n          loadingKeys.value = newLoadingKeys;\n          resolve();\n        }).catch(function (e) {\n          var newLoadingKeys = arrDel(loadingKeys.value, key);\n          loadingKeys.value = newLoadingKeys;\n          // If exceed max retry times, we give up retry\n          loadingRetryTimes[key] = (loadingRetryTimes[key] || 0) + 1;\n          if (loadingRetryTimes[key] >= MAX_RETRY_TIMES) {\n            warning(false, 'Retry for `loadData` many times but still failed. No more retry.');\n            var newLoadedKeys = arrAdd(loadedKeys.value, key);\n            if (props.loadedKeys === undefined) {\n              loadedKeys.value = newLoadedKeys;\n            }\n            resolve();\n          }\n          reject(e);\n        });\n        loadingKeys.value = arrAdd(loadingKeys.value, key);\n      });\n      // Not care warning if we ignore this\n      loadPromise.catch(function () {});\n      return loadPromise;\n    };\n    var onNodeMouseEnter = function onNodeMouseEnter(event, node) {\n      var onMouseenter = props.onMouseenter;\n      if (onMouseenter) {\n        onMouseenter({\n          event: event,\n          node: node\n        });\n      }\n    };\n    var onNodeMouseLeave = function onNodeMouseLeave(event, node) {\n      var onMouseleave = props.onMouseleave;\n      if (onMouseleave) {\n        onMouseleave({\n          event: event,\n          node: node\n        });\n      }\n    };\n    var onNodeContextMenu = function onNodeContextMenu(event, node) {\n      var onRightClick = props.onRightClick;\n      if (onRightClick) {\n        event.preventDefault();\n        onRightClick({\n          event: event,\n          node: node\n        });\n      }\n    };\n    var onFocus = function onFocus(e) {\n      var onFocus = props.onFocus;\n      focused.value = true;\n      if (onFocus) {\n        onFocus(e);\n      }\n    };\n    var onBlur = function onBlur(e) {\n      var onBlur = props.onBlur;\n      focused.value = false;\n      onActiveChange(null);\n      if (onBlur) {\n        onBlur(e);\n      }\n    };\n    var onNodeExpand = function onNodeExpand(e, treeNode) {\n      var newExpandedKeys = expandedKeys.value;\n      var onExpand = props.onExpand,\n        loadData = props.loadData;\n      var expanded = treeNode.expanded;\n      var key = treeNode[fieldNames.value.key];\n      // Do nothing when motion is in progress\n      if (listChanging.value) {\n        return;\n      }\n      // Update selected keys\n      var index = newExpandedKeys.indexOf(key);\n      var targetExpanded = !expanded;\n      warning(expanded && index !== -1 || !expanded && index === -1, 'Expand state not sync with index check');\n      if (targetExpanded) {\n        newExpandedKeys = arrAdd(newExpandedKeys, key);\n      } else {\n        newExpandedKeys = arrDel(newExpandedKeys, key);\n      }\n      setExpandedKeys(newExpandedKeys);\n      if (onExpand) {\n        onExpand(newExpandedKeys, {\n          node: treeNode,\n          expanded: targetExpanded,\n          nativeEvent: e\n        });\n      }\n      // Async Load data\n      if (targetExpanded && loadData) {\n        var loadPromise = onNodeLoad(treeNode);\n        if (loadPromise) {\n          loadPromise.then(function () {\n            // [Legacy] Refresh logic\n            // const newFlattenTreeData = flattenTreeData(\n            //   treeData.value,\n            //   newExpandedKeys,\n            //   fieldNames.value,\n            // );\n            // flattenNodes.value = newFlattenTreeData;\n          }).catch(function (e) {\n            var expandedKeysToRestore = arrDel(expandedKeys.value, key);\n            setExpandedKeys(expandedKeysToRestore);\n            Promise.reject(e);\n          });\n        }\n      }\n    };\n    var onListChangeStart = function onListChangeStart() {\n      listChanging.value = true;\n    };\n    var onListChangeEnd = function onListChangeEnd() {\n      setTimeout(function () {\n        listChanging.value = false;\n      });\n    };\n    // =========================== Keyboard ===========================\n    var onActiveChange = function onActiveChange(newActiveKey) {\n      var onActiveChange = props.onActiveChange;\n      if (activeKey.value === newActiveKey) {\n        return;\n      }\n      if (props.activeKey !== undefined) {\n        activeKey.value = newActiveKey;\n      }\n      if (newActiveKey !== null) {\n        scrollTo({\n          key: newActiveKey\n        });\n      }\n      if (onActiveChange) {\n        onActiveChange(newActiveKey);\n      }\n    };\n    var activeItem = computed(function () {\n      if (activeKey.value === null) {\n        return null;\n      }\n      return flattenNodes.value.find(function (_ref6) {\n        var key = _ref6.key;\n        return key === activeKey.value;\n      }) || null;\n    });\n    var offsetActiveKey = function offsetActiveKey(offset) {\n      var index = flattenNodes.value.findIndex(function (_ref7) {\n        var key = _ref7.key;\n        return key === activeKey.value;\n      });\n      // Align with index\n      if (index === -1 && offset < 0) {\n        index = flattenNodes.value.length;\n      }\n      index = (index + offset + flattenNodes.value.length) % flattenNodes.value.length;\n      var item = flattenNodes.value[index];\n      if (item) {\n        var key = item.key;\n        onActiveChange(key);\n      } else {\n        onActiveChange(null);\n      }\n    };\n    var activeItemEventNode = computed(function () {\n      return convertNodePropsToEventData(_extends(_extends({}, getTreeNodeProps(activeKey.value, treeNodeRequiredProps.value)), {\n        data: activeItem.value.data,\n        active: true\n      }));\n    });\n    var onKeydown = function onKeydown(event) {\n      var onKeydown = props.onKeydown,\n        checkable = props.checkable,\n        selectable = props.selectable;\n      // >>>>>>>>>> Direction\n      switch (event.which) {\n        case KeyCode.UP:\n          {\n            offsetActiveKey(-1);\n            event.preventDefault();\n            break;\n          }\n        case KeyCode.DOWN:\n          {\n            offsetActiveKey(1);\n            event.preventDefault();\n            break;\n          }\n      }\n      // >>>>>>>>>> Expand & Selection\n      var item = activeItem.value;\n      if (item && item.data) {\n        var expandable = item.data.isLeaf === false || !!(item.data.children || []).length;\n        var eventNode = activeItemEventNode.value;\n        switch (event.which) {\n          // >>> Expand\n          case KeyCode.LEFT:\n            {\n              // Collapse if possible\n              if (expandable && expandedKeysSet.value.has(activeKey.value)) {\n                onNodeExpand({}, eventNode);\n              } else if (item.parent) {\n                onActiveChange(item.parent.key);\n              }\n              event.preventDefault();\n              break;\n            }\n          case KeyCode.RIGHT:\n            {\n              // Expand if possible\n              if (expandable && !expandedKeysSet.value.has(activeKey.value)) {\n                onNodeExpand({}, eventNode);\n              } else if (item.children && item.children.length) {\n                onActiveChange(item.children[0].key);\n              }\n              event.preventDefault();\n              break;\n            }\n          // Selection\n          case KeyCode.ENTER:\n          case KeyCode.SPACE:\n            {\n              if (checkable && !eventNode.disabled && eventNode.checkable !== false && !eventNode.disableCheckbox) {\n                onNodeCheck({}, eventNode, !checkedKeysSet.value.has(activeKey.value));\n              } else if (!checkable && selectable && !eventNode.disabled && eventNode.selectable !== false) {\n                onNodeSelect({}, eventNode);\n              }\n              break;\n            }\n        }\n      }\n      if (onKeydown) {\n        onKeydown(event);\n      }\n    };\n    expose({\n      onNodeExpand: onNodeExpand,\n      scrollTo: scrollTo,\n      onKeydown: onKeydown,\n      selectedKeys: computed(function () {\n        return selectedKeys.value;\n      }),\n      checkedKeys: computed(function () {\n        return checkedKeys.value;\n      }),\n      halfCheckedKeys: computed(function () {\n        return halfCheckedKeys.value;\n      }),\n      loadedKeys: computed(function () {\n        return loadedKeys.value;\n      }),\n      loadingKeys: computed(function () {\n        return loadingKeys.value;\n      }),\n      expandedKeys: computed(function () {\n        return expandedKeys.value;\n      })\n    });\n    onUnmounted(function () {\n      window.removeEventListener('dragend', onWindowDragEnd);\n      destroyed.value = true;\n    });\n    useProvideKeysState({\n      expandedKeys: expandedKeys,\n      selectedKeys: selectedKeys,\n      loadedKeys: loadedKeys,\n      loadingKeys: loadingKeys,\n      checkedKeys: checkedKeys,\n      halfCheckedKeys: halfCheckedKeys,\n      expandedKeysSet: expandedKeysSet,\n      selectedKeysSet: selectedKeysSet,\n      loadedKeysSet: loadedKeysSet,\n      loadingKeysSet: loadingKeysSet,\n      checkedKeysSet: checkedKeysSet,\n      halfCheckedKeysSet: halfCheckedKeysSet,\n      flattenNodes: flattenNodes\n    });\n    return function () {\n      var _classNames;\n      var draggingNodeKey = dragState.draggingNodeKey,\n        dropLevelOffset = dragState.dropLevelOffset,\n        dropContainerKey = dragState.dropContainerKey,\n        dropTargetKey = dragState.dropTargetKey,\n        dropPosition = dragState.dropPosition,\n        dragOverNodeKey = dragState.dragOverNodeKey;\n      var prefixCls = props.prefixCls,\n        showLine = props.showLine,\n        focusable = props.focusable,\n        _props$tabindex = props.tabindex,\n        tabindex = _props$tabindex === void 0 ? 0 : _props$tabindex,\n        selectable = props.selectable,\n        showIcon = props.showIcon,\n        _props$icon = props.icon,\n        icon = _props$icon === void 0 ? slots.icon : _props$icon,\n        switcherIcon = props.switcherIcon,\n        draggable = props.draggable,\n        checkable = props.checkable,\n        checkStrictly = props.checkStrictly,\n        disabled = props.disabled,\n        motion = props.motion,\n        loadData = props.loadData,\n        filterTreeNode = props.filterTreeNode,\n        height = props.height,\n        itemHeight = props.itemHeight,\n        virtual = props.virtual,\n        dropIndicatorRender = props.dropIndicatorRender,\n        onContextmenu = props.onContextmenu,\n        onScroll = props.onScroll,\n        direction = props.direction,\n        rootClassName = props.rootClassName,\n        rootStyle = props.rootStyle;\n      var className = attrs.class,\n        style = attrs.style;\n      var domProps = pickAttrs(_extends(_extends({}, props), attrs), {\n        aria: true,\n        data: true\n      });\n      // It's better move to hooks but we just simply keep here\n      var draggableConfig;\n      if (draggable) {\n        if (_typeof(draggable) === 'object') {\n          draggableConfig = draggable;\n        } else if (typeof draggable === 'function') {\n          draggableConfig = {\n            nodeDraggable: draggable\n          };\n        } else {\n          draggableConfig = {};\n        }\n      } else {\n        draggableConfig = false;\n      }\n      return _createVNode(TreeContext, {\n        \"value\": {\n          prefixCls: prefixCls,\n          selectable: selectable,\n          showIcon: showIcon,\n          icon: icon,\n          switcherIcon: switcherIcon,\n          draggable: draggableConfig,\n          draggingNodeKey: draggingNodeKey,\n          checkable: checkable,\n          customCheckable: slots.checkable,\n          checkStrictly: checkStrictly,\n          disabled: disabled,\n          keyEntities: keyEntities.value,\n          dropLevelOffset: dropLevelOffset,\n          dropContainerKey: dropContainerKey,\n          dropTargetKey: dropTargetKey,\n          dropPosition: dropPosition,\n          dragOverNodeKey: dragOverNodeKey,\n          dragging: draggingNodeKey !== null,\n          indent: indent.value,\n          direction: direction,\n          dropIndicatorRender: dropIndicatorRender,\n          loadData: loadData,\n          filterTreeNode: filterTreeNode,\n          onNodeClick: onNodeClick,\n          onNodeDoubleClick: onNodeDoubleClick,\n          onNodeExpand: onNodeExpand,\n          onNodeSelect: onNodeSelect,\n          onNodeCheck: onNodeCheck,\n          onNodeLoad: onNodeLoad,\n          onNodeMouseEnter: onNodeMouseEnter,\n          onNodeMouseLeave: onNodeMouseLeave,\n          onNodeContextMenu: onNodeContextMenu,\n          onNodeDragStart: onNodeDragStart,\n          onNodeDragEnter: onNodeDragEnter,\n          onNodeDragOver: onNodeDragOver,\n          onNodeDragLeave: onNodeDragLeave,\n          onNodeDragEnd: onNodeDragEnd,\n          onNodeDrop: onNodeDrop,\n          slots: slots\n        }\n      }, {\n        default: function _default() {\n          return [_createVNode(\"div\", {\n            \"role\": \"tree\",\n            \"class\": classNames(prefixCls, className, rootClassName, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-show-line\"), showLine), _defineProperty(_classNames, \"\".concat(prefixCls, \"-focused\"), focused.value), _defineProperty(_classNames, \"\".concat(prefixCls, \"-active-focused\"), activeKey.value !== null), _classNames)),\n            \"style\": rootStyle\n          }, [_createVNode(NodeList, _objectSpread({\n            \"ref\": listRef,\n            \"prefixCls\": prefixCls,\n            \"style\": style,\n            \"disabled\": disabled,\n            \"selectable\": selectable,\n            \"checkable\": !!checkable,\n            \"motion\": motion,\n            \"height\": height,\n            \"itemHeight\": itemHeight,\n            \"virtual\": virtual,\n            \"focusable\": focusable,\n            \"focused\": focused.value,\n            \"tabindex\": tabindex,\n            \"activeItem\": activeItem.value,\n            \"onFocus\": onFocus,\n            \"onBlur\": onBlur,\n            \"onKeydown\": onKeydown,\n            \"onActiveChange\": onActiveChange,\n            \"onListChangeStart\": onListChangeStart,\n            \"onListChangeEnd\": onListChangeEnd,\n            \"onContextmenu\": onContextmenu,\n            \"onScroll\": onScroll\n          }, domProps), null)])];\n        }\n      });\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}