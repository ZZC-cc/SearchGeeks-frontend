{"ast":null,"code":"import { onUnmounted, watch, ref } from 'vue';\nimport wrapperRaf from '../../_util/raf';\nexport default function useHeights(mergedData, getKey, onItemAdd, onItemRemove) {\n  var instance = new Map();\n  var heights = new Map();\n  var updatedMark = ref(Symbol('update'));\n  watch(mergedData, function () {\n    updatedMark.value = Symbol('update');\n  });\n  var collectRaf = undefined;\n  function cancelRaf() {\n    wrapperRaf.cancel(collectRaf);\n  }\n  function collectHeight() {\n    cancelRaf();\n    collectRaf = wrapperRaf(function () {\n      instance.forEach(function (element, key) {\n        if (element && element.offsetParent) {\n          var offsetHeight = element.offsetHeight;\n          if (heights.get(key) !== offsetHeight) {\n            //changed = true;\n            updatedMark.value = Symbol('update');\n            heights.set(key, element.offsetHeight);\n          }\n        }\n      });\n    });\n  }\n  function setInstance(item, ins) {\n    var key = getKey(item);\n    var origin = instance.get(key);\n    if (ins) {\n      instance.set(key, ins.$el || ins);\n      collectHeight();\n    } else {\n      instance.delete(key);\n    }\n    // Instance changed\n    if (!origin !== !ins) {\n      if (ins) {\n        onItemAdd === null || onItemAdd === void 0 ? void 0 : onItemAdd(item);\n      } else {\n        onItemRemove === null || onItemRemove === void 0 ? void 0 : onItemRemove(item);\n      }\n    }\n  }\n  onUnmounted(function () {\n    cancelRaf();\n  });\n  return [setInstance, collectHeight, heights, updatedMark];\n}","map":{"version":3,"names":["onUnmounted","watch","ref","wrapperRaf","useHeights","mergedData","getKey","onItemAdd","onItemRemove","instance","Map","heights","updatedMark","Symbol","value","collectRaf","undefined","cancelRaf","cancel","collectHeight","forEach","element","key","offsetParent","offsetHeight","get","set","setInstance","item","ins","origin","$el","delete"],"sources":["D:/Desktop/Code/CcAgSearch/ccso-frontend/node_modules/ant-design-vue/es/vc-virtual-list/hooks/useHeights.js"],"sourcesContent":["import { onUnmounted, watch, ref } from 'vue';\nimport wrapperRaf from '../../_util/raf';\nexport default function useHeights(mergedData, getKey, onItemAdd, onItemRemove) {\n  var instance = new Map();\n  var heights = new Map();\n  var updatedMark = ref(Symbol('update'));\n  watch(mergedData, function () {\n    updatedMark.value = Symbol('update');\n  });\n  var collectRaf = undefined;\n  function cancelRaf() {\n    wrapperRaf.cancel(collectRaf);\n  }\n  function collectHeight() {\n    cancelRaf();\n    collectRaf = wrapperRaf(function () {\n      instance.forEach(function (element, key) {\n        if (element && element.offsetParent) {\n          var offsetHeight = element.offsetHeight;\n          if (heights.get(key) !== offsetHeight) {\n            //changed = true;\n            updatedMark.value = Symbol('update');\n            heights.set(key, element.offsetHeight);\n          }\n        }\n      });\n    });\n  }\n  function setInstance(item, ins) {\n    var key = getKey(item);\n    var origin = instance.get(key);\n    if (ins) {\n      instance.set(key, ins.$el || ins);\n      collectHeight();\n    } else {\n      instance.delete(key);\n    }\n    // Instance changed\n    if (!origin !== !ins) {\n      if (ins) {\n        onItemAdd === null || onItemAdd === void 0 ? void 0 : onItemAdd(item);\n      } else {\n        onItemRemove === null || onItemRemove === void 0 ? void 0 : onItemRemove(item);\n      }\n    }\n  }\n  onUnmounted(function () {\n    cancelRaf();\n  });\n  return [setInstance, collectHeight, heights, updatedMark];\n}"],"mappings":"AAAA,SAASA,WAAW,EAAEC,KAAK,EAAEC,GAAG,QAAQ,KAAK;AAC7C,OAAOC,UAAU,MAAM,iBAAiB;AACxC,eAAe,SAASC,UAAUA,CAACC,UAAU,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,EAAE;EAC9E,IAAIC,QAAQ,GAAG,IAAIC,GAAG,CAAC,CAAC;EACxB,IAAIC,OAAO,GAAG,IAAID,GAAG,CAAC,CAAC;EACvB,IAAIE,WAAW,GAAGV,GAAG,CAACW,MAAM,CAAC,QAAQ,CAAC,CAAC;EACvCZ,KAAK,CAACI,UAAU,EAAE,YAAY;IAC5BO,WAAW,CAACE,KAAK,GAAGD,MAAM,CAAC,QAAQ,CAAC;EACtC,CAAC,CAAC;EACF,IAAIE,UAAU,GAAGC,SAAS;EAC1B,SAASC,SAASA,CAAA,EAAG;IACnBd,UAAU,CAACe,MAAM,CAACH,UAAU,CAAC;EAC/B;EACA,SAASI,aAAaA,CAAA,EAAG;IACvBF,SAAS,CAAC,CAAC;IACXF,UAAU,GAAGZ,UAAU,CAAC,YAAY;MAClCM,QAAQ,CAACW,OAAO,CAAC,UAAUC,OAAO,EAAEC,GAAG,EAAE;QACvC,IAAID,OAAO,IAAIA,OAAO,CAACE,YAAY,EAAE;UACnC,IAAIC,YAAY,GAAGH,OAAO,CAACG,YAAY;UACvC,IAAIb,OAAO,CAACc,GAAG,CAACH,GAAG,CAAC,KAAKE,YAAY,EAAE;YACrC;YACAZ,WAAW,CAACE,KAAK,GAAGD,MAAM,CAAC,QAAQ,CAAC;YACpCF,OAAO,CAACe,GAAG,CAACJ,GAAG,EAAED,OAAO,CAACG,YAAY,CAAC;UACxC;QACF;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACA,SAASG,WAAWA,CAACC,IAAI,EAAEC,GAAG,EAAE;IAC9B,IAAIP,GAAG,GAAGhB,MAAM,CAACsB,IAAI,CAAC;IACtB,IAAIE,MAAM,GAAGrB,QAAQ,CAACgB,GAAG,CAACH,GAAG,CAAC;IAC9B,IAAIO,GAAG,EAAE;MACPpB,QAAQ,CAACiB,GAAG,CAACJ,GAAG,EAAEO,GAAG,CAACE,GAAG,IAAIF,GAAG,CAAC;MACjCV,aAAa,CAAC,CAAC;IACjB,CAAC,MAAM;MACLV,QAAQ,CAACuB,MAAM,CAACV,GAAG,CAAC;IACtB;IACA;IACA,IAAI,CAACQ,MAAM,KAAK,CAACD,GAAG,EAAE;MACpB,IAAIA,GAAG,EAAE;QACPtB,SAAS,KAAK,IAAI,IAAIA,SAAS,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACqB,IAAI,CAAC;MACvE,CAAC,MAAM;QACLpB,YAAY,KAAK,IAAI,IAAIA,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACoB,IAAI,CAAC;MAChF;IACF;EACF;EACA5B,WAAW,CAAC,YAAY;IACtBiB,SAAS,CAAC,CAAC;EACb,CAAC,CAAC;EACF,OAAO,CAACU,WAAW,EAAER,aAAa,EAAER,OAAO,EAAEC,WAAW,CAAC;AAC3D"},"metadata":{},"sourceType":"module","externalDependencies":[]}