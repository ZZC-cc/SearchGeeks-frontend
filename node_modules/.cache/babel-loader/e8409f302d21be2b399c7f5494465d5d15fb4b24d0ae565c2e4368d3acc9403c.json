{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { resolveDirective as _resolveDirective, createTextVNode as _createTextVNode, createVNode as _createVNode } from \"vue\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { getSeparatedContent } from './utils/valueUtil';\nimport SelectTrigger from './SelectTrigger';\nimport Selector from './Selector';\nimport useSelectTriggerControl from './hooks/useSelectTriggerControl';\nimport useDelayReset from './hooks/useDelayReset';\nimport TransBtn from './TransBtn';\nimport useLock from './hooks/useLock';\nimport { useProvideBaseSelectProps } from './hooks/useBaseProps';\nimport { computed, defineComponent, getCurrentInstance, onBeforeUnmount, onMounted, provide, shallowRef, toRefs, watch, watchEffect } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport { initDefaultProps, isValidElement } from '../_util/props-util';\nimport isMobile from '../vc-util/isMobile';\nimport KeyCode from '../_util/KeyCode';\nimport { toReactive } from '../_util/toReactive';\nimport classNames from '../_util/classNames';\nimport createRef from '../_util/createRef';\nimport useInjectLegacySelectContext from '../vc-tree-select/LegacyContext';\nimport { cloneElement } from '../_util/vnode';\nvar DEFAULT_OMIT_PROPS = ['value', 'onChange', 'removeIcon', 'placeholder', 'autofocus', 'maxTagCount', 'maxTagTextLength', 'maxTagPlaceholder', 'choiceTransitionName', 'onInputKeyDown', 'onPopupScroll', 'tabindex', 'OptionList', 'notFoundContent'];\nvar baseSelectPrivateProps = function baseSelectPrivateProps() {\n  return {\n    prefixCls: String,\n    id: String,\n    omitDomProps: Array,\n    // >>> Value\n    displayValues: Array,\n    onDisplayValuesChange: Function,\n    // >>> Active\n    /** Current dropdown list active item string value */\n    activeValue: String,\n    /** Link search input with target element */\n    activeDescendantId: String,\n    onActiveValueChange: Function,\n    // >>> Search\n    searchValue: String,\n    /** Trigger onSearch, return false to prevent trigger open event */\n    onSearch: Function,\n    /** Trigger when search text match the `tokenSeparators`. Will provide split content */\n    onSearchSplit: Function,\n    maxLength: Number,\n    OptionList: PropTypes.any,\n    /** Tell if provided `options` is empty */\n    emptyOptions: Boolean\n  };\n};\nexport var baseSelectPropsWithoutPrivate = function baseSelectPropsWithoutPrivate() {\n  return {\n    showSearch: {\n      type: Boolean,\n      default: undefined\n    },\n    tagRender: {\n      type: Function\n    },\n    optionLabelRender: {\n      type: Function\n    },\n    direction: {\n      type: String\n    },\n    // MISC\n    tabindex: Number,\n    autofocus: Boolean,\n    notFoundContent: PropTypes.any,\n    placeholder: PropTypes.any,\n    onClear: Function,\n    choiceTransitionName: String,\n    // >>> Mode\n    mode: String,\n    // >>> Status\n    disabled: {\n      type: Boolean,\n      default: undefined\n    },\n    loading: {\n      type: Boolean,\n      default: undefined\n    },\n    // >>> Open\n    open: {\n      type: Boolean,\n      default: undefined\n    },\n    defaultOpen: {\n      type: Boolean,\n      default: undefined\n    },\n    onDropdownVisibleChange: {\n      type: Function\n    },\n    // >>> Customize Input\n    /** @private Internal usage. Do not use in your production. */\n    getInputElement: {\n      type: Function\n    },\n    /** @private Internal usage. Do not use in your production. */\n    getRawInputElement: {\n      type: Function\n    },\n    // >>> Selector\n    maxTagTextLength: Number,\n    maxTagCount: {\n      type: [String, Number]\n    },\n    maxTagPlaceholder: PropTypes.any,\n    // >>> Search\n    tokenSeparators: {\n      type: Array\n    },\n    // >>> Icons\n    allowClear: {\n      type: Boolean,\n      default: undefined\n    },\n    showArrow: {\n      type: Boolean,\n      default: undefined\n    },\n    inputIcon: PropTypes.any,\n    /** Clear all icon */\n    clearIcon: PropTypes.any,\n    /** Selector remove icon */\n    removeIcon: PropTypes.any,\n    // >>> Dropdown\n    animation: String,\n    transitionName: String,\n    dropdownStyle: {\n      type: Object\n    },\n    dropdownClassName: String,\n    dropdownMatchSelectWidth: {\n      type: [Boolean, Number],\n      default: undefined\n    },\n    dropdownRender: {\n      type: Function\n    },\n    dropdownAlign: Object,\n    placement: {\n      type: String\n    },\n    getPopupContainer: {\n      type: Function\n    },\n    // >>> Focus\n    showAction: {\n      type: Array\n    },\n    onBlur: {\n      type: Function\n    },\n    onFocus: {\n      type: Function\n    },\n    // >>> Rest Events\n    onKeyup: Function,\n    onKeydown: Function,\n    onMousedown: Function,\n    onPopupScroll: Function,\n    onInputKeyDown: Function,\n    onMouseenter: Function,\n    onMouseleave: Function,\n    onClick: Function\n  };\n};\nvar baseSelectProps = function baseSelectProps() {\n  return _extends(_extends({}, baseSelectPrivateProps()), baseSelectPropsWithoutPrivate());\n};\nexport function isMultiple(mode) {\n  return mode === 'tags' || mode === 'multiple';\n}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'BaseSelect',\n  inheritAttrs: false,\n  props: initDefaultProps(baseSelectProps(), {\n    showAction: [],\n    notFoundContent: 'Not Found'\n  }),\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n      expose = _ref.expose,\n      slots = _ref.slots;\n    var multiple = computed(function () {\n      return isMultiple(props.mode);\n    });\n    var mergedShowSearch = computed(function () {\n      return props.showSearch !== undefined ? props.showSearch : multiple.value || props.mode === 'combobox';\n    });\n    var mobile = shallowRef(false);\n    onMounted(function () {\n      mobile.value = isMobile();\n    });\n    var legacyTreeSelectContext = useInjectLegacySelectContext();\n    // ============================== Refs ==============================\n    var containerRef = shallowRef(null);\n    var selectorDomRef = createRef();\n    var triggerRef = shallowRef(null);\n    var selectorRef = shallowRef(null);\n    var listRef = shallowRef(null);\n    /** Used for component focused management */\n    var _useDelayReset = useDelayReset(),\n      _useDelayReset2 = _slicedToArray(_useDelayReset, 3),\n      mockFocused = _useDelayReset2[0],\n      setMockFocused = _useDelayReset2[1],\n      cancelSetMockFocused = _useDelayReset2[2];\n    var focus = function focus() {\n      var _a;\n      (_a = selectorRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n    };\n    var blur = function blur() {\n      var _a;\n      (_a = selectorRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n    };\n    expose({\n      focus: focus,\n      blur: blur,\n      scrollTo: function scrollTo(arg) {\n        var _a;\n        return (_a = listRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo(arg);\n      }\n    });\n    var mergedSearchValue = computed(function () {\n      var _a;\n      if (props.mode !== 'combobox') {\n        return props.searchValue;\n      }\n      var val = (_a = props.displayValues[0]) === null || _a === void 0 ? void 0 : _a.value;\n      return typeof val === 'string' || typeof val === 'number' ? String(val) : '';\n    });\n    // ============================== Open ==============================\n    var initOpen = props.open !== undefined ? props.open : props.defaultOpen;\n    var innerOpen = shallowRef(initOpen);\n    var mergedOpen = shallowRef(initOpen);\n    var setInnerOpen = function setInnerOpen(val) {\n      innerOpen.value = props.open !== undefined ? props.open : val;\n      mergedOpen.value = innerOpen.value;\n    };\n    watch(function () {\n      return props.open;\n    }, function () {\n      setInnerOpen(props.open);\n    });\n    // Not trigger `open` in `combobox` when `notFoundContent` is empty\n    var emptyListContent = computed(function () {\n      return !props.notFoundContent && props.emptyOptions;\n    });\n    watchEffect(function () {\n      mergedOpen.value = innerOpen.value;\n      if (props.disabled || emptyListContent.value && mergedOpen.value && props.mode === 'combobox') {\n        mergedOpen.value = false;\n      }\n    });\n    var triggerOpen = computed(function () {\n      return emptyListContent.value ? false : mergedOpen.value;\n    });\n    var onToggleOpen = function onToggleOpen(newOpen) {\n      var nextOpen = newOpen !== undefined ? newOpen : !mergedOpen.value;\n      if (innerOpen.value !== nextOpen && !props.disabled) {\n        setInnerOpen(nextOpen);\n        if (props.onDropdownVisibleChange) {\n          props.onDropdownVisibleChange(nextOpen);\n        }\n      }\n    };\n    var tokenWithEnter = computed(function () {\n      return (props.tokenSeparators || []).some(function (tokenSeparator) {\n        return ['\\n', '\\r\\n'].includes(tokenSeparator);\n      });\n    });\n    var onInternalSearch = function onInternalSearch(searchText, fromTyping, isCompositing) {\n      var _a, _b;\n      var ret = true;\n      var newSearchText = searchText;\n      (_a = props.onActiveValueChange) === null || _a === void 0 ? void 0 : _a.call(props, null);\n      // Check if match the `tokenSeparators`\n      var patchLabels = isCompositing ? null : getSeparatedContent(searchText, props.tokenSeparators);\n      // Ignore combobox since it's not split-able\n      if (props.mode !== 'combobox' && patchLabels) {\n        newSearchText = '';\n        (_b = props.onSearchSplit) === null || _b === void 0 ? void 0 : _b.call(props, patchLabels);\n        // Should close when paste finish\n        onToggleOpen(false);\n        // Tell Selector that break next actions\n        ret = false;\n      }\n      if (props.onSearch && mergedSearchValue.value !== newSearchText) {\n        props.onSearch(newSearchText, {\n          source: fromTyping ? 'typing' : 'effect'\n        });\n      }\n      return ret;\n    };\n    // Only triggered when menu is closed & mode is tags\n    // If menu is open, OptionList will take charge\n    // If mode isn't tags, press enter is not meaningful when you can't see any option\n    var onInternalSearchSubmit = function onInternalSearchSubmit(searchText) {\n      var _a;\n      // prevent empty tags from appearing when you click the Enter button\n      if (!searchText || !searchText.trim()) {\n        return;\n      }\n      (_a = props.onSearch) === null || _a === void 0 ? void 0 : _a.call(props, searchText, {\n        source: 'submit'\n      });\n    };\n    // Close will clean up single mode search text\n    watch(mergedOpen, function () {\n      if (!mergedOpen.value && !multiple.value && props.mode !== 'combobox') {\n        onInternalSearch('', false, false);\n      }\n    }, {\n      immediate: true,\n      flush: 'post'\n    });\n    // ============================ Disabled ============================\n    // Close dropdown & remove focus state when disabled change\n    watch(function () {\n      return props.disabled;\n    }, function () {\n      if (innerOpen.value && !!props.disabled) {\n        setInnerOpen(false);\n      }\n    }, {\n      immediate: true\n    });\n    // ============================ Keyboard ============================\n    /**\n     * We record input value here to check if can press to clean up by backspace\n     * - null: Key is not down, this is reset by key up\n     * - true: Search text is empty when first time backspace down\n     * - false: Search text is not empty when first time backspace down\n     */\n    var _useLock = useLock(),\n      _useLock2 = _slicedToArray(_useLock, 2),\n      getClearLock = _useLock2[0],\n      setClearLock = _useLock2[1];\n    // KeyDown\n    var onInternalKeyDown = function onInternalKeyDown(event) {\n      var _a2;\n      var _a;\n      var clearLock = getClearLock();\n      var which = event.which;\n      if (which === KeyCode.ENTER) {\n        // Do not submit form when type in the input\n        if (props.mode !== 'combobox') {\n          event.preventDefault();\n        }\n        // We only manage open state here, close logic should handle by list component\n        if (!mergedOpen.value) {\n          onToggleOpen(true);\n        }\n      }\n      setClearLock(!!mergedSearchValue.value);\n      // Remove value by `backspace`\n      if (which === KeyCode.BACKSPACE && !clearLock && multiple.value && !mergedSearchValue.value && props.displayValues.length) {\n        var cloneDisplayValues = _toConsumableArray(props.displayValues);\n        var removedDisplayValue = null;\n        for (var i = cloneDisplayValues.length - 1; i >= 0; i -= 1) {\n          var current = cloneDisplayValues[i];\n          if (!current.disabled) {\n            cloneDisplayValues.splice(i, 1);\n            removedDisplayValue = current;\n            break;\n          }\n        }\n        if (removedDisplayValue) {\n          props.onDisplayValuesChange(cloneDisplayValues, {\n            type: 'remove',\n            values: [removedDisplayValue]\n          });\n        }\n      }\n      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n      if (mergedOpen.value && listRef.value) {\n        var _listRef$value;\n        (_listRef$value = listRef.value).onKeydown.apply(_listRef$value, [event].concat(rest));\n      }\n      (_a = props.onKeydown) === null || _a === void 0 ? void 0 : (_a2 = _a).call.apply(_a2, [props, event].concat(rest));\n    };\n    // KeyUp\n    var onInternalKeyUp = function onInternalKeyUp(event) {\n      for (var _len2 = arguments.length, rest = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        rest[_key2 - 1] = arguments[_key2];\n      }\n      if (mergedOpen.value && listRef.value) {\n        var _listRef$value2;\n        (_listRef$value2 = listRef.value).onKeyup.apply(_listRef$value2, [event].concat(rest));\n      }\n      if (props.onKeyup) {\n        props.onKeyup.apply(props, [event].concat(rest));\n      }\n    };\n    // ============================ Selector ============================\n    var onSelectorRemove = function onSelectorRemove(val) {\n      var newValues = props.displayValues.filter(function (i) {\n        return i !== val;\n      });\n      props.onDisplayValuesChange(newValues, {\n        type: 'remove',\n        values: [val]\n      });\n    };\n    // ========================== Focus / Blur ==========================\n    /** Record real focus status */\n    var focusRef = shallowRef(false);\n    var onContainerFocus = function onContainerFocus() {\n      setMockFocused(true);\n      if (!props.disabled) {\n        if (props.onFocus && !focusRef.value) {\n          props.onFocus.apply(props, arguments);\n        }\n        // `showAction` should handle `focus` if set\n        if (props.showAction && props.showAction.includes('focus')) {\n          onToggleOpen(true);\n        }\n      }\n      focusRef.value = true;\n    };\n    var onContainerBlur = function onContainerBlur() {\n      setMockFocused(false, function () {\n        focusRef.value = false;\n        onToggleOpen(false);\n      });\n      if (props.disabled) {\n        return;\n      }\n      var searchVal = mergedSearchValue.value;\n      if (searchVal) {\n        // `tags` mode should move `searchValue` into values\n        if (props.mode === 'tags') {\n          props.onSearch(searchVal, {\n            source: 'submit'\n          });\n        } else if (props.mode === 'multiple') {\n          // `multiple` mode only clean the search value but not trigger event\n          props.onSearch('', {\n            source: 'blur'\n          });\n        }\n      }\n      if (props.onBlur) {\n        props.onBlur.apply(props, arguments);\n      }\n    };\n    provide('VCSelectContainerEvent', {\n      focus: onContainerFocus,\n      blur: onContainerBlur\n    });\n    // Give focus back of Select\n    var activeTimeoutIds = [];\n    onMounted(function () {\n      activeTimeoutIds.forEach(function (timeoutId) {\n        return clearTimeout(timeoutId);\n      });\n      activeTimeoutIds.splice(0, activeTimeoutIds.length);\n    });\n    onBeforeUnmount(function () {\n      activeTimeoutIds.forEach(function (timeoutId) {\n        return clearTimeout(timeoutId);\n      });\n      activeTimeoutIds.splice(0, activeTimeoutIds.length);\n    });\n    var onInternalMouseDown = function onInternalMouseDown(event) {\n      var _b2;\n      var _a, _b;\n      var target = event.target;\n      var popupElement = (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.getPopupElement();\n      // We should give focus back to selector if clicked item is not focusable\n      if (popupElement && popupElement.contains(target)) {\n        var timeoutId = setTimeout(function () {\n          var _a;\n          var index = activeTimeoutIds.indexOf(timeoutId);\n          if (index !== -1) {\n            activeTimeoutIds.splice(index, 1);\n          }\n          cancelSetMockFocused();\n          if (!mobile.value && !popupElement.contains(document.activeElement)) {\n            (_a = selectorRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n          }\n        });\n        activeTimeoutIds.push(timeoutId);\n      }\n      for (var _len3 = arguments.length, restArgs = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        restArgs[_key3 - 1] = arguments[_key3];\n      }\n      (_b = props.onMousedown) === null || _b === void 0 ? void 0 : (_b2 = _b).call.apply(_b2, [props, event].concat(restArgs));\n    };\n    // ============================= Dropdown ==============================\n    var containerWidth = shallowRef(null);\n    var instance = getCurrentInstance();\n    var onPopupMouseEnter = function onPopupMouseEnter() {\n      // We need force update here since popup dom is render async\n      instance.update();\n    };\n    onMounted(function () {\n      watch(triggerOpen, function () {\n        var _a;\n        if (triggerOpen.value) {\n          var newWidth = Math.ceil((_a = containerRef.value) === null || _a === void 0 ? void 0 : _a.offsetWidth);\n          if (containerWidth.value !== newWidth && !Number.isNaN(newWidth)) {\n            containerWidth.value = newWidth;\n          }\n        }\n      }, {\n        immediate: true,\n        flush: 'post'\n      });\n    });\n    // Close when click on non-select element\n    useSelectTriggerControl([containerRef, triggerRef], triggerOpen, onToggleOpen);\n    useProvideBaseSelectProps(toReactive(_extends(_extends({}, toRefs(props)), {\n      open: mergedOpen,\n      triggerOpen: triggerOpen,\n      showSearch: mergedShowSearch,\n      multiple: multiple,\n      toggleOpen: onToggleOpen\n    })));\n    return function () {\n      var _classNames2;\n      var _a = _extends(_extends({}, props), attrs),\n        prefixCls = _a.prefixCls,\n        id = _a.id,\n        open = _a.open,\n        defaultOpen = _a.defaultOpen,\n        mode = _a.mode,\n        showSearch = _a.showSearch,\n        searchValue = _a.searchValue,\n        onSearch = _a.onSearch,\n        allowClear = _a.allowClear,\n        clearIcon = _a.clearIcon,\n        showArrow = _a.showArrow,\n        inputIcon = _a.inputIcon,\n        disabled = _a.disabled,\n        loading = _a.loading,\n        getInputElement = _a.getInputElement,\n        getPopupContainer = _a.getPopupContainer,\n        placement = _a.placement,\n        animation = _a.animation,\n        transitionName = _a.transitionName,\n        dropdownStyle = _a.dropdownStyle,\n        dropdownClassName = _a.dropdownClassName,\n        dropdownMatchSelectWidth = _a.dropdownMatchSelectWidth,\n        dropdownRender = _a.dropdownRender,\n        dropdownAlign = _a.dropdownAlign,\n        showAction = _a.showAction,\n        direction = _a.direction,\n        tokenSeparators = _a.tokenSeparators,\n        tagRender = _a.tagRender,\n        optionLabelRender = _a.optionLabelRender,\n        onPopupScroll = _a.onPopupScroll,\n        onDropdownVisibleChange = _a.onDropdownVisibleChange,\n        onFocus = _a.onFocus,\n        onBlur = _a.onBlur,\n        onKeyup = _a.onKeyup,\n        onKeydown = _a.onKeydown,\n        onMousedown = _a.onMousedown,\n        onClear = _a.onClear,\n        omitDomProps = _a.omitDomProps,\n        getRawInputElement = _a.getRawInputElement,\n        displayValues = _a.displayValues,\n        onDisplayValuesChange = _a.onDisplayValuesChange,\n        emptyOptions = _a.emptyOptions,\n        activeDescendantId = _a.activeDescendantId,\n        activeValue = _a.activeValue,\n        OptionList = _a.OptionList,\n        restProps = __rest(_a, [\"prefixCls\", \"id\", \"open\", \"defaultOpen\", \"mode\", \"showSearch\", \"searchValue\", \"onSearch\", \"allowClear\", \"clearIcon\", \"showArrow\", \"inputIcon\", \"disabled\", \"loading\", \"getInputElement\", \"getPopupContainer\", \"placement\", \"animation\", \"transitionName\", \"dropdownStyle\", \"dropdownClassName\", \"dropdownMatchSelectWidth\", \"dropdownRender\", \"dropdownAlign\", \"showAction\", \"direction\", \"tokenSeparators\", \"tagRender\", \"optionLabelRender\", \"onPopupScroll\", \"onDropdownVisibleChange\", \"onFocus\", \"onBlur\", \"onKeyup\", \"onKeydown\", \"onMousedown\", \"onClear\", \"omitDomProps\", \"getRawInputElement\", \"displayValues\", \"onDisplayValuesChange\", \"emptyOptions\", \"activeDescendantId\", \"activeValue\", \"OptionList\"]);\n\n      // ============================= Input ==============================\n      // Only works in `combobox`\n      var customizeInputElement = mode === 'combobox' && getInputElement && getInputElement() || null;\n      // Used for customize replacement for `vc-cascader`\n      var customizeRawInputElement = typeof getRawInputElement === 'function' && getRawInputElement();\n      var domProps = _extends({}, restProps);\n      // Used for raw custom input trigger\n      var onTriggerVisibleChange;\n      if (customizeRawInputElement) {\n        onTriggerVisibleChange = function onTriggerVisibleChange(newOpen) {\n          onToggleOpen(newOpen);\n        };\n      }\n      DEFAULT_OMIT_PROPS.forEach(function (propName) {\n        delete domProps[propName];\n      });\n      omitDomProps === null || omitDomProps === void 0 ? void 0 : omitDomProps.forEach(function (propName) {\n        delete domProps[propName];\n      });\n      // ============================= Arrow ==============================\n      var mergedShowArrow = showArrow !== undefined ? showArrow : loading || !multiple.value && mode !== 'combobox';\n      var arrowNode;\n      if (mergedShowArrow) {\n        arrowNode = _createVNode(TransBtn, {\n          \"class\": classNames(\"\".concat(prefixCls, \"-arrow\"), _defineProperty({}, \"\".concat(prefixCls, \"-arrow-loading\"), loading)),\n          \"customizeIcon\": inputIcon,\n          \"customizeIconProps\": {\n            loading: loading,\n            searchValue: mergedSearchValue.value,\n            open: mergedOpen.value,\n            focused: mockFocused.value,\n            showSearch: mergedShowSearch.value\n          }\n        }, null);\n      }\n      // ============================= Clear ==============================\n      var clearNode;\n      var onClearMouseDown = function onClearMouseDown() {\n        onClear === null || onClear === void 0 ? void 0 : onClear();\n        onDisplayValuesChange([], {\n          type: 'clear',\n          values: displayValues\n        });\n        onInternalSearch('', false, false);\n      };\n      if (!disabled && allowClear && (displayValues.length || mergedSearchValue.value)) {\n        clearNode = _createVNode(TransBtn, {\n          \"class\": \"\".concat(prefixCls, \"-clear\"),\n          \"onMousedown\": onClearMouseDown,\n          \"customizeIcon\": clearIcon\n        }, {\n          default: function _default() {\n            return [_createTextVNode(\"\\xD7\")];\n          }\n        });\n      }\n      // =========================== OptionList ===========================\n      var optionList = _createVNode(OptionList, {\n        \"ref\": listRef\n      }, _extends(_extends({}, legacyTreeSelectContext.customSlots), {\n        option: slots.option\n      }));\n      // ============================= Select =============================\n      var mergedClassName = classNames(prefixCls, attrs.class, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), mockFocused.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-multiple\"), multiple.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-single\"), !multiple.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-allow-clear\"), allowClear), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-show-arrow\"), mergedShowArrow), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-open\"), mergedOpen.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-customize-input\"), customizeInputElement), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-show-search\"), mergedShowSearch.value), _classNames2));\n      // >>> Selector\n      var selectorNode = _createVNode(SelectTrigger, {\n        \"ref\": triggerRef,\n        \"disabled\": disabled,\n        \"prefixCls\": prefixCls,\n        \"visible\": triggerOpen.value,\n        \"popupElement\": optionList,\n        \"containerWidth\": containerWidth.value,\n        \"animation\": animation,\n        \"transitionName\": transitionName,\n        \"dropdownStyle\": dropdownStyle,\n        \"dropdownClassName\": dropdownClassName,\n        \"direction\": direction,\n        \"dropdownMatchSelectWidth\": dropdownMatchSelectWidth,\n        \"dropdownRender\": dropdownRender,\n        \"dropdownAlign\": dropdownAlign,\n        \"placement\": placement,\n        \"getPopupContainer\": getPopupContainer,\n        \"empty\": emptyOptions,\n        \"getTriggerDOMNode\": function getTriggerDOMNode() {\n          return selectorDomRef.current;\n        },\n        \"onPopupVisibleChange\": onTriggerVisibleChange,\n        \"onPopupMouseEnter\": onPopupMouseEnter\n      }, {\n        default: function _default() {\n          return customizeRawInputElement ? isValidElement(customizeRawInputElement) && cloneElement(customizeRawInputElement, {\n            ref: selectorDomRef\n          }, false, true) : _createVNode(Selector, _objectSpread(_objectSpread({}, props), {}, {\n            \"domRef\": selectorDomRef,\n            \"prefixCls\": prefixCls,\n            \"inputElement\": customizeInputElement,\n            \"ref\": selectorRef,\n            \"id\": id,\n            \"showSearch\": mergedShowSearch.value,\n            \"mode\": mode,\n            \"activeDescendantId\": activeDescendantId,\n            \"tagRender\": tagRender,\n            \"optionLabelRender\": optionLabelRender,\n            \"values\": displayValues,\n            \"open\": mergedOpen.value,\n            \"onToggleOpen\": onToggleOpen,\n            \"activeValue\": activeValue,\n            \"searchValue\": mergedSearchValue.value,\n            \"onSearch\": onInternalSearch,\n            \"onSearchSubmit\": onInternalSearchSubmit,\n            \"onRemove\": onSelectorRemove,\n            \"tokenWithEnter\": tokenWithEnter.value\n          }), null);\n        }\n      });\n      // >>> Render\n      var renderNode;\n      // Render raw\n      if (customizeRawInputElement) {\n        renderNode = selectorNode;\n      } else {\n        renderNode = _createVNode(\"div\", _objectSpread(_objectSpread({}, domProps), {}, {\n          \"class\": mergedClassName,\n          \"ref\": containerRef,\n          \"onMousedown\": onInternalMouseDown,\n          \"onKeydown\": onInternalKeyDown,\n          \"onKeyup\": onInternalKeyUp\n        }), [mockFocused.value && !mergedOpen.value && _createVNode(\"span\", {\n          \"style\": {\n            width: 0,\n            height: 0,\n            position: 'absolute',\n            overflow: 'hidden',\n            opacity: 0\n          },\n          \"aria-live\": \"polite\"\n        }, [\"\".concat(displayValues.map(function (_ref2) {\n          var label = _ref2.label,\n            value = _ref2.value;\n          return ['number', 'string'].includes(_typeof(label)) ? label : value;\n        }).join(', '))]), selectorNode, arrowNode, clearNode]);\n      }\n      return renderNode;\n    };\n  }\n});","map":{"version":3,"names":["_typeof","_objectSpread","_defineProperty","_toConsumableArray","_slicedToArray","_extends","resolveDirective","_resolveDirective","createTextVNode","_createTextVNode","createVNode","_createVNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","getSeparatedContent","SelectTrigger","Selector","useSelectTriggerControl","useDelayReset","TransBtn","useLock","useProvideBaseSelectProps","computed","defineComponent","getCurrentInstance","onBeforeUnmount","onMounted","provide","shallowRef","toRefs","watch","watchEffect","PropTypes","initDefaultProps","isValidElement","isMobile","KeyCode","toReactive","classNames","createRef","useInjectLegacySelectContext","cloneElement","DEFAULT_OMIT_PROPS","baseSelectPrivateProps","prefixCls","String","id","omitDomProps","Array","displayValues","onDisplayValuesChange","Function","activeValue","activeDescendantId","onActiveValueChange","searchValue","onSearch","onSearchSplit","maxLength","Number","OptionList","any","emptyOptions","Boolean","baseSelectPropsWithoutPrivate","showSearch","type","default","undefined","tagRender","optionLabelRender","direction","tabindex","autofocus","notFoundContent","placeholder","onClear","choiceTransitionName","mode","disabled","loading","open","defaultOpen","onDropdownVisibleChange","getInputElement","getRawInputElement","maxTagTextLength","maxTagCount","maxTagPlaceholder","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","removeIcon","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onBlur","onFocus","onKeyup","onKeydown","onMousedown","onPopupScroll","onInputKeyDown","onMouseenter","onMouseleave","onClick","baseSelectProps","isMultiple","compatConfig","MODE","name","inheritAttrs","props","setup","_ref","attrs","expose","slots","multiple","mergedShowSearch","value","mobile","legacyTreeSelectContext","containerRef","selectorDomRef","triggerRef","selectorRef","listRef","_useDelayReset","_useDelayReset2","mockFocused","setMockFocused","cancelSetMockFocused","focus","_a","blur","scrollTo","arg","mergedSearchValue","val","initOpen","innerOpen","mergedOpen","setInnerOpen","emptyListContent","triggerOpen","onToggleOpen","newOpen","nextOpen","tokenWithEnter","some","tokenSeparator","includes","onInternalSearch","searchText","fromTyping","isCompositing","_b","ret","newSearchText","patchLabels","source","onInternalSearchSubmit","trim","immediate","flush","_useLock","_useLock2","getClearLock","setClearLock","onInternalKeyDown","event","_a2","clearLock","which","ENTER","preventDefault","BACKSPACE","cloneDisplayValues","removedDisplayValue","current","splice","values","_len","arguments","rest","_key","_listRef$value","apply","concat","onInternalKeyUp","_len2","_key2","_listRef$value2","onSelectorRemove","newValues","filter","focusRef","onContainerFocus","onContainerBlur","searchVal","activeTimeoutIds","forEach","timeoutId","clearTimeout","onInternalMouseDown","_b2","target","popupElement","getPopupElement","contains","setTimeout","index","document","activeElement","push","_len3","restArgs","_key3","containerWidth","instance","onPopupMouseEnter","update","newWidth","Math","ceil","offsetWidth","isNaN","toggleOpen","_classNames2","restProps","customizeInputElement","customizeRawInputElement","domProps","onTriggerVisibleChange","propName","mergedShowArrow","arrowNode","focused","clearNode","onClearMouseDown","_default","optionList","customSlots","option","mergedClassName","class","selectorNode","getTriggerDOMNode","ref","renderNode","width","height","position","overflow","opacity","map","_ref2","label","join"],"sources":["D:/Desktop/Code/SearchGeeks/SearchGeeks-frontend/node_modules/ant-design-vue/es/vc-select/BaseSelect.js"],"sourcesContent":["import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { resolveDirective as _resolveDirective, createTextVNode as _createTextVNode, createVNode as _createVNode } from \"vue\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { getSeparatedContent } from './utils/valueUtil';\nimport SelectTrigger from './SelectTrigger';\nimport Selector from './Selector';\nimport useSelectTriggerControl from './hooks/useSelectTriggerControl';\nimport useDelayReset from './hooks/useDelayReset';\nimport TransBtn from './TransBtn';\nimport useLock from './hooks/useLock';\nimport { useProvideBaseSelectProps } from './hooks/useBaseProps';\nimport { computed, defineComponent, getCurrentInstance, onBeforeUnmount, onMounted, provide, shallowRef, toRefs, watch, watchEffect } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport { initDefaultProps, isValidElement } from '../_util/props-util';\nimport isMobile from '../vc-util/isMobile';\nimport KeyCode from '../_util/KeyCode';\nimport { toReactive } from '../_util/toReactive';\nimport classNames from '../_util/classNames';\nimport createRef from '../_util/createRef';\nimport useInjectLegacySelectContext from '../vc-tree-select/LegacyContext';\nimport { cloneElement } from '../_util/vnode';\nvar DEFAULT_OMIT_PROPS = ['value', 'onChange', 'removeIcon', 'placeholder', 'autofocus', 'maxTagCount', 'maxTagTextLength', 'maxTagPlaceholder', 'choiceTransitionName', 'onInputKeyDown', 'onPopupScroll', 'tabindex', 'OptionList', 'notFoundContent'];\nvar baseSelectPrivateProps = function baseSelectPrivateProps() {\n  return {\n    prefixCls: String,\n    id: String,\n    omitDomProps: Array,\n    // >>> Value\n    displayValues: Array,\n    onDisplayValuesChange: Function,\n    // >>> Active\n    /** Current dropdown list active item string value */\n    activeValue: String,\n    /** Link search input with target element */\n    activeDescendantId: String,\n    onActiveValueChange: Function,\n    // >>> Search\n    searchValue: String,\n    /** Trigger onSearch, return false to prevent trigger open event */\n    onSearch: Function,\n    /** Trigger when search text match the `tokenSeparators`. Will provide split content */\n    onSearchSplit: Function,\n    maxLength: Number,\n    OptionList: PropTypes.any,\n    /** Tell if provided `options` is empty */\n    emptyOptions: Boolean\n  };\n};\nexport var baseSelectPropsWithoutPrivate = function baseSelectPropsWithoutPrivate() {\n  return {\n    showSearch: {\n      type: Boolean,\n      default: undefined\n    },\n    tagRender: {\n      type: Function\n    },\n    optionLabelRender: {\n      type: Function\n    },\n    direction: {\n      type: String\n    },\n    // MISC\n    tabindex: Number,\n    autofocus: Boolean,\n    notFoundContent: PropTypes.any,\n    placeholder: PropTypes.any,\n    onClear: Function,\n    choiceTransitionName: String,\n    // >>> Mode\n    mode: String,\n    // >>> Status\n    disabled: {\n      type: Boolean,\n      default: undefined\n    },\n    loading: {\n      type: Boolean,\n      default: undefined\n    },\n    // >>> Open\n    open: {\n      type: Boolean,\n      default: undefined\n    },\n    defaultOpen: {\n      type: Boolean,\n      default: undefined\n    },\n    onDropdownVisibleChange: {\n      type: Function\n    },\n    // >>> Customize Input\n    /** @private Internal usage. Do not use in your production. */\n    getInputElement: {\n      type: Function\n    },\n    /** @private Internal usage. Do not use in your production. */\n    getRawInputElement: {\n      type: Function\n    },\n    // >>> Selector\n    maxTagTextLength: Number,\n    maxTagCount: {\n      type: [String, Number]\n    },\n    maxTagPlaceholder: PropTypes.any,\n    // >>> Search\n    tokenSeparators: {\n      type: Array\n    },\n    // >>> Icons\n    allowClear: {\n      type: Boolean,\n      default: undefined\n    },\n    showArrow: {\n      type: Boolean,\n      default: undefined\n    },\n    inputIcon: PropTypes.any,\n    /** Clear all icon */\n    clearIcon: PropTypes.any,\n    /** Selector remove icon */\n    removeIcon: PropTypes.any,\n    // >>> Dropdown\n    animation: String,\n    transitionName: String,\n    dropdownStyle: {\n      type: Object\n    },\n    dropdownClassName: String,\n    dropdownMatchSelectWidth: {\n      type: [Boolean, Number],\n      default: undefined\n    },\n    dropdownRender: {\n      type: Function\n    },\n    dropdownAlign: Object,\n    placement: {\n      type: String\n    },\n    getPopupContainer: {\n      type: Function\n    },\n    // >>> Focus\n    showAction: {\n      type: Array\n    },\n    onBlur: {\n      type: Function\n    },\n    onFocus: {\n      type: Function\n    },\n    // >>> Rest Events\n    onKeyup: Function,\n    onKeydown: Function,\n    onMousedown: Function,\n    onPopupScroll: Function,\n    onInputKeyDown: Function,\n    onMouseenter: Function,\n    onMouseleave: Function,\n    onClick: Function\n  };\n};\nvar baseSelectProps = function baseSelectProps() {\n  return _extends(_extends({}, baseSelectPrivateProps()), baseSelectPropsWithoutPrivate());\n};\nexport function isMultiple(mode) {\n  return mode === 'tags' || mode === 'multiple';\n}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'BaseSelect',\n  inheritAttrs: false,\n  props: initDefaultProps(baseSelectProps(), {\n    showAction: [],\n    notFoundContent: 'Not Found'\n  }),\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n      expose = _ref.expose,\n      slots = _ref.slots;\n    var multiple = computed(function () {\n      return isMultiple(props.mode);\n    });\n    var mergedShowSearch = computed(function () {\n      return props.showSearch !== undefined ? props.showSearch : multiple.value || props.mode === 'combobox';\n    });\n    var mobile = shallowRef(false);\n    onMounted(function () {\n      mobile.value = isMobile();\n    });\n    var legacyTreeSelectContext = useInjectLegacySelectContext();\n    // ============================== Refs ==============================\n    var containerRef = shallowRef(null);\n    var selectorDomRef = createRef();\n    var triggerRef = shallowRef(null);\n    var selectorRef = shallowRef(null);\n    var listRef = shallowRef(null);\n    /** Used for component focused management */\n    var _useDelayReset = useDelayReset(),\n      _useDelayReset2 = _slicedToArray(_useDelayReset, 3),\n      mockFocused = _useDelayReset2[0],\n      setMockFocused = _useDelayReset2[1],\n      cancelSetMockFocused = _useDelayReset2[2];\n    var focus = function focus() {\n      var _a;\n      (_a = selectorRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n    };\n    var blur = function blur() {\n      var _a;\n      (_a = selectorRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n    };\n    expose({\n      focus: focus,\n      blur: blur,\n      scrollTo: function scrollTo(arg) {\n        var _a;\n        return (_a = listRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo(arg);\n      }\n    });\n    var mergedSearchValue = computed(function () {\n      var _a;\n      if (props.mode !== 'combobox') {\n        return props.searchValue;\n      }\n      var val = (_a = props.displayValues[0]) === null || _a === void 0 ? void 0 : _a.value;\n      return typeof val === 'string' || typeof val === 'number' ? String(val) : '';\n    });\n    // ============================== Open ==============================\n    var initOpen = props.open !== undefined ? props.open : props.defaultOpen;\n    var innerOpen = shallowRef(initOpen);\n    var mergedOpen = shallowRef(initOpen);\n    var setInnerOpen = function setInnerOpen(val) {\n      innerOpen.value = props.open !== undefined ? props.open : val;\n      mergedOpen.value = innerOpen.value;\n    };\n    watch(function () {\n      return props.open;\n    }, function () {\n      setInnerOpen(props.open);\n    });\n    // Not trigger `open` in `combobox` when `notFoundContent` is empty\n    var emptyListContent = computed(function () {\n      return !props.notFoundContent && props.emptyOptions;\n    });\n    watchEffect(function () {\n      mergedOpen.value = innerOpen.value;\n      if (props.disabled || emptyListContent.value && mergedOpen.value && props.mode === 'combobox') {\n        mergedOpen.value = false;\n      }\n    });\n    var triggerOpen = computed(function () {\n      return emptyListContent.value ? false : mergedOpen.value;\n    });\n    var onToggleOpen = function onToggleOpen(newOpen) {\n      var nextOpen = newOpen !== undefined ? newOpen : !mergedOpen.value;\n      if (innerOpen.value !== nextOpen && !props.disabled) {\n        setInnerOpen(nextOpen);\n        if (props.onDropdownVisibleChange) {\n          props.onDropdownVisibleChange(nextOpen);\n        }\n      }\n    };\n    var tokenWithEnter = computed(function () {\n      return (props.tokenSeparators || []).some(function (tokenSeparator) {\n        return ['\\n', '\\r\\n'].includes(tokenSeparator);\n      });\n    });\n    var onInternalSearch = function onInternalSearch(searchText, fromTyping, isCompositing) {\n      var _a, _b;\n      var ret = true;\n      var newSearchText = searchText;\n      (_a = props.onActiveValueChange) === null || _a === void 0 ? void 0 : _a.call(props, null);\n      // Check if match the `tokenSeparators`\n      var patchLabels = isCompositing ? null : getSeparatedContent(searchText, props.tokenSeparators);\n      // Ignore combobox since it's not split-able\n      if (props.mode !== 'combobox' && patchLabels) {\n        newSearchText = '';\n        (_b = props.onSearchSplit) === null || _b === void 0 ? void 0 : _b.call(props, patchLabels);\n        // Should close when paste finish\n        onToggleOpen(false);\n        // Tell Selector that break next actions\n        ret = false;\n      }\n      if (props.onSearch && mergedSearchValue.value !== newSearchText) {\n        props.onSearch(newSearchText, {\n          source: fromTyping ? 'typing' : 'effect'\n        });\n      }\n      return ret;\n    };\n    // Only triggered when menu is closed & mode is tags\n    // If menu is open, OptionList will take charge\n    // If mode isn't tags, press enter is not meaningful when you can't see any option\n    var onInternalSearchSubmit = function onInternalSearchSubmit(searchText) {\n      var _a;\n      // prevent empty tags from appearing when you click the Enter button\n      if (!searchText || !searchText.trim()) {\n        return;\n      }\n      (_a = props.onSearch) === null || _a === void 0 ? void 0 : _a.call(props, searchText, {\n        source: 'submit'\n      });\n    };\n    // Close will clean up single mode search text\n    watch(mergedOpen, function () {\n      if (!mergedOpen.value && !multiple.value && props.mode !== 'combobox') {\n        onInternalSearch('', false, false);\n      }\n    }, {\n      immediate: true,\n      flush: 'post'\n    });\n    // ============================ Disabled ============================\n    // Close dropdown & remove focus state when disabled change\n    watch(function () {\n      return props.disabled;\n    }, function () {\n      if (innerOpen.value && !!props.disabled) {\n        setInnerOpen(false);\n      }\n    }, {\n      immediate: true\n    });\n    // ============================ Keyboard ============================\n    /**\n     * We record input value here to check if can press to clean up by backspace\n     * - null: Key is not down, this is reset by key up\n     * - true: Search text is empty when first time backspace down\n     * - false: Search text is not empty when first time backspace down\n     */\n    var _useLock = useLock(),\n      _useLock2 = _slicedToArray(_useLock, 2),\n      getClearLock = _useLock2[0],\n      setClearLock = _useLock2[1];\n    // KeyDown\n    var onInternalKeyDown = function onInternalKeyDown(event) {\n      var _a2;\n      var _a;\n      var clearLock = getClearLock();\n      var which = event.which;\n      if (which === KeyCode.ENTER) {\n        // Do not submit form when type in the input\n        if (props.mode !== 'combobox') {\n          event.preventDefault();\n        }\n        // We only manage open state here, close logic should handle by list component\n        if (!mergedOpen.value) {\n          onToggleOpen(true);\n        }\n      }\n      setClearLock(!!mergedSearchValue.value);\n      // Remove value by `backspace`\n      if (which === KeyCode.BACKSPACE && !clearLock && multiple.value && !mergedSearchValue.value && props.displayValues.length) {\n        var cloneDisplayValues = _toConsumableArray(props.displayValues);\n        var removedDisplayValue = null;\n        for (var i = cloneDisplayValues.length - 1; i >= 0; i -= 1) {\n          var current = cloneDisplayValues[i];\n          if (!current.disabled) {\n            cloneDisplayValues.splice(i, 1);\n            removedDisplayValue = current;\n            break;\n          }\n        }\n        if (removedDisplayValue) {\n          props.onDisplayValuesChange(cloneDisplayValues, {\n            type: 'remove',\n            values: [removedDisplayValue]\n          });\n        }\n      }\n      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n      if (mergedOpen.value && listRef.value) {\n        var _listRef$value;\n        (_listRef$value = listRef.value).onKeydown.apply(_listRef$value, [event].concat(rest));\n      }\n      (_a = props.onKeydown) === null || _a === void 0 ? void 0 : (_a2 = _a).call.apply(_a2, [props, event].concat(rest));\n    };\n    // KeyUp\n    var onInternalKeyUp = function onInternalKeyUp(event) {\n      for (var _len2 = arguments.length, rest = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        rest[_key2 - 1] = arguments[_key2];\n      }\n      if (mergedOpen.value && listRef.value) {\n        var _listRef$value2;\n        (_listRef$value2 = listRef.value).onKeyup.apply(_listRef$value2, [event].concat(rest));\n      }\n      if (props.onKeyup) {\n        props.onKeyup.apply(props, [event].concat(rest));\n      }\n    };\n    // ============================ Selector ============================\n    var onSelectorRemove = function onSelectorRemove(val) {\n      var newValues = props.displayValues.filter(function (i) {\n        return i !== val;\n      });\n      props.onDisplayValuesChange(newValues, {\n        type: 'remove',\n        values: [val]\n      });\n    };\n    // ========================== Focus / Blur ==========================\n    /** Record real focus status */\n    var focusRef = shallowRef(false);\n    var onContainerFocus = function onContainerFocus() {\n      setMockFocused(true);\n      if (!props.disabled) {\n        if (props.onFocus && !focusRef.value) {\n          props.onFocus.apply(props, arguments);\n        }\n        // `showAction` should handle `focus` if set\n        if (props.showAction && props.showAction.includes('focus')) {\n          onToggleOpen(true);\n        }\n      }\n      focusRef.value = true;\n    };\n    var onContainerBlur = function onContainerBlur() {\n      setMockFocused(false, function () {\n        focusRef.value = false;\n        onToggleOpen(false);\n      });\n      if (props.disabled) {\n        return;\n      }\n      var searchVal = mergedSearchValue.value;\n      if (searchVal) {\n        // `tags` mode should move `searchValue` into values\n        if (props.mode === 'tags') {\n          props.onSearch(searchVal, {\n            source: 'submit'\n          });\n        } else if (props.mode === 'multiple') {\n          // `multiple` mode only clean the search value but not trigger event\n          props.onSearch('', {\n            source: 'blur'\n          });\n        }\n      }\n      if (props.onBlur) {\n        props.onBlur.apply(props, arguments);\n      }\n    };\n    provide('VCSelectContainerEvent', {\n      focus: onContainerFocus,\n      blur: onContainerBlur\n    });\n    // Give focus back of Select\n    var activeTimeoutIds = [];\n    onMounted(function () {\n      activeTimeoutIds.forEach(function (timeoutId) {\n        return clearTimeout(timeoutId);\n      });\n      activeTimeoutIds.splice(0, activeTimeoutIds.length);\n    });\n    onBeforeUnmount(function () {\n      activeTimeoutIds.forEach(function (timeoutId) {\n        return clearTimeout(timeoutId);\n      });\n      activeTimeoutIds.splice(0, activeTimeoutIds.length);\n    });\n    var onInternalMouseDown = function onInternalMouseDown(event) {\n      var _b2;\n      var _a, _b;\n      var target = event.target;\n      var popupElement = (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.getPopupElement();\n      // We should give focus back to selector if clicked item is not focusable\n      if (popupElement && popupElement.contains(target)) {\n        var timeoutId = setTimeout(function () {\n          var _a;\n          var index = activeTimeoutIds.indexOf(timeoutId);\n          if (index !== -1) {\n            activeTimeoutIds.splice(index, 1);\n          }\n          cancelSetMockFocused();\n          if (!mobile.value && !popupElement.contains(document.activeElement)) {\n            (_a = selectorRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n          }\n        });\n        activeTimeoutIds.push(timeoutId);\n      }\n      for (var _len3 = arguments.length, restArgs = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        restArgs[_key3 - 1] = arguments[_key3];\n      }\n      (_b = props.onMousedown) === null || _b === void 0 ? void 0 : (_b2 = _b).call.apply(_b2, [props, event].concat(restArgs));\n    };\n    // ============================= Dropdown ==============================\n    var containerWidth = shallowRef(null);\n    var instance = getCurrentInstance();\n    var onPopupMouseEnter = function onPopupMouseEnter() {\n      // We need force update here since popup dom is render async\n      instance.update();\n    };\n    onMounted(function () {\n      watch(triggerOpen, function () {\n        var _a;\n        if (triggerOpen.value) {\n          var newWidth = Math.ceil((_a = containerRef.value) === null || _a === void 0 ? void 0 : _a.offsetWidth);\n          if (containerWidth.value !== newWidth && !Number.isNaN(newWidth)) {\n            containerWidth.value = newWidth;\n          }\n        }\n      }, {\n        immediate: true,\n        flush: 'post'\n      });\n    });\n    // Close when click on non-select element\n    useSelectTriggerControl([containerRef, triggerRef], triggerOpen, onToggleOpen);\n    useProvideBaseSelectProps(toReactive(_extends(_extends({}, toRefs(props)), {\n      open: mergedOpen,\n      triggerOpen: triggerOpen,\n      showSearch: mergedShowSearch,\n      multiple: multiple,\n      toggleOpen: onToggleOpen\n    })));\n    return function () {\n      var _classNames2;\n      var _a = _extends(_extends({}, props), attrs),\n        prefixCls = _a.prefixCls,\n        id = _a.id,\n        open = _a.open,\n        defaultOpen = _a.defaultOpen,\n        mode = _a.mode,\n        showSearch = _a.showSearch,\n        searchValue = _a.searchValue,\n        onSearch = _a.onSearch,\n        allowClear = _a.allowClear,\n        clearIcon = _a.clearIcon,\n        showArrow = _a.showArrow,\n        inputIcon = _a.inputIcon,\n        disabled = _a.disabled,\n        loading = _a.loading,\n        getInputElement = _a.getInputElement,\n        getPopupContainer = _a.getPopupContainer,\n        placement = _a.placement,\n        animation = _a.animation,\n        transitionName = _a.transitionName,\n        dropdownStyle = _a.dropdownStyle,\n        dropdownClassName = _a.dropdownClassName,\n        dropdownMatchSelectWidth = _a.dropdownMatchSelectWidth,\n        dropdownRender = _a.dropdownRender,\n        dropdownAlign = _a.dropdownAlign,\n        showAction = _a.showAction,\n        direction = _a.direction,\n        tokenSeparators = _a.tokenSeparators,\n        tagRender = _a.tagRender,\n        optionLabelRender = _a.optionLabelRender,\n        onPopupScroll = _a.onPopupScroll,\n        onDropdownVisibleChange = _a.onDropdownVisibleChange,\n        onFocus = _a.onFocus,\n        onBlur = _a.onBlur,\n        onKeyup = _a.onKeyup,\n        onKeydown = _a.onKeydown,\n        onMousedown = _a.onMousedown,\n        onClear = _a.onClear,\n        omitDomProps = _a.omitDomProps,\n        getRawInputElement = _a.getRawInputElement,\n        displayValues = _a.displayValues,\n        onDisplayValuesChange = _a.onDisplayValuesChange,\n        emptyOptions = _a.emptyOptions,\n        activeDescendantId = _a.activeDescendantId,\n        activeValue = _a.activeValue,\n        OptionList = _a.OptionList,\n        restProps = __rest(_a, [\"prefixCls\", \"id\", \"open\", \"defaultOpen\", \"mode\", \"showSearch\", \"searchValue\", \"onSearch\", \"allowClear\", \"clearIcon\", \"showArrow\", \"inputIcon\", \"disabled\", \"loading\", \"getInputElement\", \"getPopupContainer\", \"placement\", \"animation\", \"transitionName\", \"dropdownStyle\", \"dropdownClassName\", \"dropdownMatchSelectWidth\", \"dropdownRender\", \"dropdownAlign\", \"showAction\", \"direction\", \"tokenSeparators\", \"tagRender\", \"optionLabelRender\", \"onPopupScroll\", \"onDropdownVisibleChange\", \"onFocus\", \"onBlur\", \"onKeyup\", \"onKeydown\", \"onMousedown\", \"onClear\", \"omitDomProps\", \"getRawInputElement\", \"displayValues\", \"onDisplayValuesChange\", \"emptyOptions\", \"activeDescendantId\", \"activeValue\", \"OptionList\"]);\n\n      // ============================= Input ==============================\n      // Only works in `combobox`\n      var customizeInputElement = mode === 'combobox' && getInputElement && getInputElement() || null;\n      // Used for customize replacement for `vc-cascader`\n      var customizeRawInputElement = typeof getRawInputElement === 'function' && getRawInputElement();\n      var domProps = _extends({}, restProps);\n      // Used for raw custom input trigger\n      var onTriggerVisibleChange;\n      if (customizeRawInputElement) {\n        onTriggerVisibleChange = function onTriggerVisibleChange(newOpen) {\n          onToggleOpen(newOpen);\n        };\n      }\n      DEFAULT_OMIT_PROPS.forEach(function (propName) {\n        delete domProps[propName];\n      });\n      omitDomProps === null || omitDomProps === void 0 ? void 0 : omitDomProps.forEach(function (propName) {\n        delete domProps[propName];\n      });\n      // ============================= Arrow ==============================\n      var mergedShowArrow = showArrow !== undefined ? showArrow : loading || !multiple.value && mode !== 'combobox';\n      var arrowNode;\n      if (mergedShowArrow) {\n        arrowNode = _createVNode(TransBtn, {\n          \"class\": classNames(\"\".concat(prefixCls, \"-arrow\"), _defineProperty({}, \"\".concat(prefixCls, \"-arrow-loading\"), loading)),\n          \"customizeIcon\": inputIcon,\n          \"customizeIconProps\": {\n            loading: loading,\n            searchValue: mergedSearchValue.value,\n            open: mergedOpen.value,\n            focused: mockFocused.value,\n            showSearch: mergedShowSearch.value\n          }\n        }, null);\n      }\n      // ============================= Clear ==============================\n      var clearNode;\n      var onClearMouseDown = function onClearMouseDown() {\n        onClear === null || onClear === void 0 ? void 0 : onClear();\n        onDisplayValuesChange([], {\n          type: 'clear',\n          values: displayValues\n        });\n        onInternalSearch('', false, false);\n      };\n      if (!disabled && allowClear && (displayValues.length || mergedSearchValue.value)) {\n        clearNode = _createVNode(TransBtn, {\n          \"class\": \"\".concat(prefixCls, \"-clear\"),\n          \"onMousedown\": onClearMouseDown,\n          \"customizeIcon\": clearIcon\n        }, {\n          default: function _default() {\n            return [_createTextVNode(\"\\xD7\")];\n          }\n        });\n      }\n      // =========================== OptionList ===========================\n      var optionList = _createVNode(OptionList, {\n        \"ref\": listRef\n      }, _extends(_extends({}, legacyTreeSelectContext.customSlots), {\n        option: slots.option\n      }));\n      // ============================= Select =============================\n      var mergedClassName = classNames(prefixCls, attrs.class, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), mockFocused.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-multiple\"), multiple.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-single\"), !multiple.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-allow-clear\"), allowClear), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-show-arrow\"), mergedShowArrow), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-open\"), mergedOpen.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-customize-input\"), customizeInputElement), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-show-search\"), mergedShowSearch.value), _classNames2));\n      // >>> Selector\n      var selectorNode = _createVNode(SelectTrigger, {\n        \"ref\": triggerRef,\n        \"disabled\": disabled,\n        \"prefixCls\": prefixCls,\n        \"visible\": triggerOpen.value,\n        \"popupElement\": optionList,\n        \"containerWidth\": containerWidth.value,\n        \"animation\": animation,\n        \"transitionName\": transitionName,\n        \"dropdownStyle\": dropdownStyle,\n        \"dropdownClassName\": dropdownClassName,\n        \"direction\": direction,\n        \"dropdownMatchSelectWidth\": dropdownMatchSelectWidth,\n        \"dropdownRender\": dropdownRender,\n        \"dropdownAlign\": dropdownAlign,\n        \"placement\": placement,\n        \"getPopupContainer\": getPopupContainer,\n        \"empty\": emptyOptions,\n        \"getTriggerDOMNode\": function getTriggerDOMNode() {\n          return selectorDomRef.current;\n        },\n        \"onPopupVisibleChange\": onTriggerVisibleChange,\n        \"onPopupMouseEnter\": onPopupMouseEnter\n      }, {\n        default: function _default() {\n          return customizeRawInputElement ? isValidElement(customizeRawInputElement) && cloneElement(customizeRawInputElement, {\n            ref: selectorDomRef\n          }, false, true) : _createVNode(Selector, _objectSpread(_objectSpread({}, props), {}, {\n            \"domRef\": selectorDomRef,\n            \"prefixCls\": prefixCls,\n            \"inputElement\": customizeInputElement,\n            \"ref\": selectorRef,\n            \"id\": id,\n            \"showSearch\": mergedShowSearch.value,\n            \"mode\": mode,\n            \"activeDescendantId\": activeDescendantId,\n            \"tagRender\": tagRender,\n            \"optionLabelRender\": optionLabelRender,\n            \"values\": displayValues,\n            \"open\": mergedOpen.value,\n            \"onToggleOpen\": onToggleOpen,\n            \"activeValue\": activeValue,\n            \"searchValue\": mergedSearchValue.value,\n            \"onSearch\": onInternalSearch,\n            \"onSearchSubmit\": onInternalSearchSubmit,\n            \"onRemove\": onSelectorRemove,\n            \"tokenWithEnter\": tokenWithEnter.value\n          }), null);\n        }\n      });\n      // >>> Render\n      var renderNode;\n      // Render raw\n      if (customizeRawInputElement) {\n        renderNode = selectorNode;\n      } else {\n        renderNode = _createVNode(\"div\", _objectSpread(_objectSpread({}, domProps), {}, {\n          \"class\": mergedClassName,\n          \"ref\": containerRef,\n          \"onMousedown\": onInternalMouseDown,\n          \"onKeydown\": onInternalKeyDown,\n          \"onKeyup\": onInternalKeyUp\n        }), [mockFocused.value && !mergedOpen.value && _createVNode(\"span\", {\n          \"style\": {\n            width: 0,\n            height: 0,\n            position: 'absolute',\n            overflow: 'hidden',\n            opacity: 0\n          },\n          \"aria-live\": \"polite\"\n        }, [\"\".concat(displayValues.map(function (_ref2) {\n          var label = _ref2.label,\n            value = _ref2.value;\n          return ['number', 'string'].includes(_typeof(label)) ? label : value;\n        }).join(', '))]), selectorNode, arrowNode, clearNode]);\n      }\n      return renderNode;\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}